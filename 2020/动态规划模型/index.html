<!DOCTYPE html>
<html lang="zh-CN">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp" />
  
  <meta name="author" content="Inno">
  
  <meta name="description" content="innoçš„ä¸ªäººåšå®¢ç½‘ç«™ï¼Œå…³æ³¨Javascriptï¼ŒGolangï¼ŒNodejsï¼ŒDenoï¼Œå¾®ä¿¡å°ç¨‹åºç­‰webå¼€å‘å¸¸ç”¨æŠ€æœ¯ã€‚">
  
  <meta name="keywords" content="leetcode,golang,javascript,typescript,deno,nodejs,ç®—æ³•,å‰ç«¯,åç«¯">
  
  
  <link rel="prev" href="https://blog.innoweb.cn/2020/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/" />
  
  <link rel="next" href="https://blog.innoweb.cn/2020/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" />
  <link rel="canonical" href="https://blog.innoweb.cn/2020/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E6%A8%A1%E5%9E%8B/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link href="/favicon.ico" rel="icon" type="image/x-icon">
  <link href="https://blog.innoweb.cn/favicon.ico" rel="icon" type="image/x-icon">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
    
    
    åŠ¨æ€è§„åˆ’æ¨¡å‹ | Inno`s Blog
    
  </title>
  <meta name="title"
    content="åŠ¨æ€è§„åˆ’æ¨¡å‹ | Inno`s Blog">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https:\/\/blog.innoweb.cn\/"
    },
    "articleSection" : "posts",
    "name" : "åŠ¨æ€è§„åˆ’æ¨¡å‹",
    "headline" : "åŠ¨æ€è§„åˆ’æ¨¡å‹",
    "description" : "ä»‹ç»åŠ¨æ€è§„åˆ’ç®—æ³•çš„å¸¸ç”¨æŠ€å·§",
    "inLanguage" : "zh-CN",
    "author" : "Inno",
    "creator" : "Inno",
    "publisher": "Inno",
    "accountablePerson" : "Inno",
    "copyrightHolder" : "Inno",
    "copyrightYear" : "2020",
    "datePublished": "2020-01-31 08:33:26 \x2b0800 CST",
    "dateModified" : "2020-01-31 08:33:26 \x2b0800 CST",
    "url" : "https:\/\/blog.innoweb.cn\/2020\/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E6%A8%A1%E5%9E%8B\/",
    "wordCount" : "4904",
    "keywords" : [ "åŠ¨æ€è§„åˆ’æ¨¡å‹","ç®—æ³•", "Inno`s Blog"]
}
</script>

</head>



  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    
        <div class="top-scroll-bar"></div>
    
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://blog.innoweb.cn/">Inno`s Blog</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
                <a class="menu-item" href="/github/" title="innoâ€ ">Inno â€ </a>
                
        </div>
        
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
    
    <div class="top-scroll-bar"></div>
    
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://blog.innoweb.cn/">Inno`s Blog</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
                <a class="menu-item" href="/github/" title="innoâ€ ">Inno â€ </a>
                
        </div>
    </div>
</nav>
    	 <main class="main">
          <div class="container">
      		
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">åŠ¨æ€è§„åˆ’æ¨¡å‹</h1>
        <div class="post-meta">
                Written by <a itemprop="name" href="https://blog.innoweb.cn/" rel="author">Inno</a> with â™¥ 
                <span class="post-time">
                on <time datetime=2020-01-31 itemprop="datePublished">January 31, 2020</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="https://blog.innoweb.cn/categories/Algorithm/"> Algorithm </a>
                        
                </span>
                <span class="post-word-count" style="float: right;">Total <code>4904</code> words</span>
        </div>
    </header>
    <div class="post-content">
        

        
            
        

        
        
     
          
          
          

          
          
          

          <h1 id="çº¿æ€§æ¨¡å‹-">çº¿æ€§æ¨¡å‹ ğŸŒ¾</h1>
<p><strong>ä¸¤ä¸ªå˜é‡ä¹‹é—´å­˜åœ¨ä¸€æ¬¡æ–¹å‡½æ•°å…³ç³»ï¼Œå°±ç§°å®ƒä»¬ä¹‹é—´å­˜åœ¨çº¿æ€§å…³ç³»</strong>ã€‚ åœ¨çº¿æ€§ç»“æ„ä¸Šè¿›è¡ŒçŠ¶æ€è½¬ç§»DPï¼Œç»Ÿç§°çº¿æ€§DPï¼Œæ³¨æ„é—®é¢˜ä¸­çš„æœªçŸ¥æ•°åªæœ‰ä¸¤ä¸ªé‚£å°±æ˜¯nå’Œf(n)ï¼Œæ¯”å¦‚è¯´åˆ†é‡‘å¸é—®é¢˜ä¸­çš„coinsæ€»æ•°å’Œchargeæ¬¡æ•°ã€‚ä¸‹é¢æ‹¿å®é™…é—®é¢˜æ¥ä¸¾ä¾‹å­ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼šå·²çŸ¥é‡æ•°ç»„ä¸å±äºå˜é‡ï¼Œæ¯”å¦‚è¯´é‡‘å¸é¢é¢ã€‚</p>
<h2 id="åˆ‡æœ¨æ£-">åˆ‡æœ¨æ£ ğŸŒ¿</h2>
<hr>
<p>ç»™å®šä¸€æ®µé•¿åº¦ä¸ºnè‹±å¯¸çš„é’¢æ¡å’Œä¸€ä¸ªä»·æ ¼è¡¨pi(i=1ï¼Œ2ï¼Œ&hellip;ï¼Œn)ï¼Œæ±‚è§£åˆ‡å‰²é’¢æ¡æ–¹æ¡ˆï¼Œä½¿å¾—é”€å”®æ”¶ç›Šrnæœ€å¤§ã€‚æ³¨æ„ï¼Œå¦‚æœé•¿åº¦ä¸ºnè‹±å¯¸çš„é’¢æ¡ä»·æ ¼pnè¶³å¤Ÿå¤§ï¼Œæœ€ä¼˜è§£å¯èƒ½å°±æ˜¯å®Œå…¨ä¸éœ€è¦åˆ‡å‰²ã€‚</p>
<p><img src="http://image.innoweb.cn/2020-01-31-200.jpg" alt="h"></p>
<h4 id="æ€è·¯">æ€è·¯ğŸ€</h4>
<p>è€ƒè™‘n=4çš„æƒ…å†µï¼Œæˆ‘ä»¬æ‰€æœ‰å¯èƒ½çš„åˆ‡å‰²æ–¹æ¡ˆå¦‚ä¸‹</p>
<p><img src="http://image.innoweb.cn/2020-01-31-4010043-b154f60e0b31a971.jpg" alt="img"></p>
<p>æˆ‘ä»¬å°†é’¢æ¡ä»å·¦è¾¹åˆ‡å‰²é•¿åº¦ä¸ºiçš„ä¸€æ®µï¼Œåªå¯¹å³è¾¹å‰©ä¸‹çš„é•¿åº¦ä¸ºn-içš„ä¸€æ®µç»§ç»­è¿›è¡Œåˆ‡å‰²ï¼ˆé€’å½’æ±‚è§£ï¼‰ï¼Œå¯¹å·¦è¾¹çš„ä¸€æ®µåˆ™ä¸å†è¿›è¡Œåˆ‡å‰²ã€‚å³é—®é¢˜åˆ†è§£ä¸ºï¼šå°†é•¿åº¦ä¸ºnçš„é’¢æ¡åˆ†è§£ä¸ºå·¦è¾¹å¼€å§‹ä¸€æ®µï¼Œä»¥åŠå¯¹å‰©ä½™éƒ¨åˆ†ç»§ç»­åˆ†è§£çš„ç»“æœã€‚è¿™æ ·ï¼Œä¸åšä»»ä½•åˆ‡å‰²çš„æ–¹æ¡ˆå¯ä»¥æè¿°ä¸ºï¼šç¬¬ä¸€æ®µçš„é•¿åº¦ä¸ºnï¼Œæ”¶ç›Šä¸ºpnï¼Œå‰©ä½™éƒ¨åˆ†é•¿åº¦ä¸º0ï¼Œå¯¹åº”æ”¶ç›Šä¸ºr0=0ã€‚</p>
<h4 id="åŠ¨æ€è½¬ç§»æ–¹ç¨‹">åŠ¨æ€è½¬ç§»æ–¹ç¨‹ğŸ</h4>
<p>$$
f(l) = max(p^i + f(l-r^i))
$$</p>
<h4 id="æš´åŠ›é€’å½’">æš´åŠ›é€’å½’ğŸ¥€</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">CutSteel</span>(<span style="color:#a6e22e">value</span> []<span style="color:#66d9ef">int</span>, <span style="color:#a6e22e">length</span> <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">length</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> {
		<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
	}

	<span style="color:#a6e22e">bestValue</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">MinInt64</span>

	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">1</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">length</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> {
		<span style="color:#a6e22e">preValue</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">value</span>[<span style="color:#a6e22e">i</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">+</span><span style="color:#a6e22e">CutSteel</span>(<span style="color:#a6e22e">value</span>,<span style="color:#a6e22e">length</span><span style="color:#f92672">-</span><span style="color:#a6e22e">i</span>)
		<span style="color:#a6e22e">bestValue</span> = int(<span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Max</span>(float64(<span style="color:#a6e22e">preValue</span>),float64(<span style="color:#a6e22e">bestValue</span>)))
	}
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">bestValue</span>
}
</code></pre></div><h4 id="åŠ¨æ€è§„åˆ’å†™æ³•">åŠ¨æ€è§„åˆ’å†™æ³•ğŸŒ·</h4>
<p>å¯¹äºrnï¼ˆn &gt;= 1ï¼‰,å¯ä»¥ç”¨æ›´çŸ­åœ°é’¢æ¡çš„æœ€ä¼˜æ”¶å‰²æ”¶ç›Šæ¥æè¿°å®ƒï¼š
$$
rn = max(p^nï¼Œr^1 + r^n-1 ï¼Œr^2 + r^n-2ï¼Œ&hellip;ï¼Œr^n-1 + r^1)
$$</p>
<ul>
<li>pnå¯¹åº”ä¸åˆ‡å‰²ï¼Œç›´æ¥å‡ºå”®é•¿åº¦ä¸ºnè‹±å¯¸çš„é’¢æ¡æ–¹æ¡ˆ</li>
<li>å…¶ä»–n-1ä¸ªå‚æ•°å¯¹åº”å¦å¤–n-1ç§åˆ‡å‰²æ–¹æ¡ˆï¼šå¯¹æ¯ä¸ªi=1ï¼Œ2ï¼Œ&hellip;ï¼Œn-1ï¼Œé¦–å…ˆå°†é’¢æ¡åˆ‡å‰²é•¿åº¦ä¸ºiå’Œn-içš„ä¸¤æ®µï¼Œæ¥ç€æ±‚è§£è¿™ä¸¤æ®µçš„æœ€ä¼˜æ”¶ç›Šriå’Œrn-iï¼ˆæ¯ç§æ–¹æ¡ˆçš„æœ€ä¼˜æ”¶ç›Šä¸ºä¸¤æ®µçš„æœ€ä¼˜æ”¶ç›Šä¹‹å’Œï¼‰</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">BottomUpCutSteel</span>(<span style="color:#a6e22e">v</span> []<span style="color:#66d9ef">int</span>, <span style="color:#a6e22e">n</span> <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
	<span style="color:#a6e22e">r</span> <span style="color:#f92672">:=</span> make([]<span style="color:#66d9ef">int</span>, <span style="color:#a6e22e">n</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)
	<span style="color:#75715e">/*
</span><span style="color:#75715e">		åˆ›å»ºå¤‡å¿˜å½•ï¼Œç”¨äºè®°å½•é•¿åº¦ä¸ºiçš„æ—¶å€™çš„æœ€ä¼˜è§£ã€‚
</span><span style="color:#75715e">		æˆ‘ä»¬åªè¦æ‹¿åˆ°äº†ä¸Šä¸€è½®çš„æœ€ä¼˜è§£ï¼Œä¸‹ä¸€è½®åªéœ€è¦æ¯”è¾ƒä¹‹å‰æœ€ä¼˜è§£çš„ç»„åˆå¤–åŠ ä¸Šå½“å‰é•¿åº¦ä¸åˆ‡å‰²çš„ä»·å€¼å°±å¯ä»¥äº†ï¼Œä¾æ­¤é€’æ¨ï¼Œ
</span><span style="color:#75715e">	*/</span>
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">1</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">n</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>  {
		<span style="color:#a6e22e">bestChoice</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
		<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">j</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">1</span>; <span style="color:#a6e22e">j</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">i</span>; <span style="color:#a6e22e">j</span><span style="color:#f92672">++</span> {
			<span style="color:#a6e22e">bestChoice</span> = int(<span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Max</span>(float64(<span style="color:#a6e22e">bestChoice</span>), float64(<span style="color:#a6e22e">v</span>[<span style="color:#a6e22e">j</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">+</span> <span style="color:#a6e22e">r</span>[<span style="color:#a6e22e">i</span><span style="color:#f92672">-</span><span style="color:#a6e22e">j</span>])))
		}
		<span style="color:#a6e22e">r</span>[<span style="color:#a6e22e">i</span>] = <span style="color:#a6e22e">bestChoice</span>
	}
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">r</span>[len(<span style="color:#a6e22e">r</span>)<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]
}
</code></pre></div><h2 id="lis-">lis ğŸŒ¼</h2>
<hr>
<p><code>longest increasing substring</code> æœ€é•¿é€’å¢å­åºåˆ—ï¼Œç»™å®šæ•°ç»„<code>arr</code>ï¼Œè¿”å›<code>arr</code>çš„æœ€é•¿é€’å¢å­åºåˆ—ã€‚</p>
<h4 id="åŠ¨æ€è½¬ç§»æ–¹ç¨‹-1">åŠ¨æ€è½¬ç§»æ–¹ç¨‹ğŸŒ½</h4>
<p>f(n)è¡¨ç¤ºä»¥ä¸‹æ ‡ä¸ºnç»“å°¾çš„æ•°ç»„çš„æœ€é•¿é€’å¢å­åºåˆ—çš„é•¿åº¦ã€‚
$$
f(n) = max(f(n-i) + 1) ~~~~(~arr[n] &gt; arr[n-i]~)
$$</p>
<h4 id="æš´åŠ›é€’å½’-1">æš´åŠ›é€’å½’ğŸ</h4>
<p>æ³¨æ„æœ€åä»¥ä¸ºä¸ä¸€å®šå°±æ˜¯æœ€é•¿é€’å¢å­åºåˆ—çš„ç»“å°¾ï¼Œæ‰€ä»¥è¦éå†æ¯ä¸€ä½ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">lisRecusive</span> (<span style="color:#a6e22e">arr</span> []<span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
	<span style="color:#a6e22e">bestAns</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">MinInt64</span>
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> len(<span style="color:#a6e22e">arr</span>)<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;<span style="color:#a6e22e">i</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span> ;<span style="color:#a6e22e">i</span><span style="color:#f92672">--</span>  {
		<span style="color:#a6e22e">bestAns</span> = int(<span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Max</span>(float64(<span style="color:#a6e22e">bestAns</span>),float64(<span style="color:#a6e22e">lis</span>(<span style="color:#a6e22e">arr</span>,<span style="color:#a6e22e">i</span>))))
	}

	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">bestAns</span>
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">lis</span>(<span style="color:#a6e22e">arr</span> []<span style="color:#66d9ef">int</span>,<span style="color:#a6e22e">n</span> <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">n</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> {
		<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>
	}

	<span style="color:#a6e22e">bestAns</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">MinInt64</span>

	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">n</span> ;<span style="color:#a6e22e">i</span> &gt; <span style="color:#ae81ff">0</span> ;<span style="color:#a6e22e">i</span><span style="color:#f92672">--</span> {
		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">arr</span>[<span style="color:#a6e22e">n</span>] &gt; <span style="color:#a6e22e">arr</span>[<span style="color:#a6e22e">n</span><span style="color:#f92672">-</span><span style="color:#a6e22e">i</span>] {
			<span style="color:#a6e22e">bestAns</span> = int(<span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Max</span>(float64(<span style="color:#a6e22e">bestAns</span>),float64(<span style="color:#a6e22e">lis</span>(<span style="color:#a6e22e">arr</span>,<span style="color:#a6e22e">n</span><span style="color:#f92672">-</span><span style="color:#a6e22e">i</span>)<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)))
		}
	}

	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">bestAns</span>
}
</code></pre></div><h4 id="åŠ¨æ€è§„åˆ’è§£å†³">åŠ¨æ€è§„åˆ’è§£å†³ğŸ</h4>
<h4 id="img-srchttpimageinnowebcn2020-01-31-002610png-altimage-20200104120117518-stylezoom67-"><img src="http://image.innoweb.cn/2020-01-31-002610.png" alt="image-20200104120117518" style="zoom:67%;" /></h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">lisDynamic</span> (<span style="color:#a6e22e">arr</span> []<span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
	<span style="color:#a6e22e">memory</span> <span style="color:#f92672">:=</span> make([]<span style="color:#66d9ef">int</span>,len(<span style="color:#a6e22e">arr</span>))
	<span style="color:#a6e22e">memory</span>[<span style="color:#ae81ff">0</span>] = <span style="color:#ae81ff">1</span>
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">1</span>;<span style="color:#a6e22e">i</span> &lt; len(<span style="color:#a6e22e">arr</span>);<span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>  {		<span style="color:#75715e">//æ§åˆ¶n
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">j</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>;<span style="color:#a6e22e">j</span> &lt; <span style="color:#a6e22e">i</span> ;<span style="color:#a6e22e">j</span><span style="color:#f92672">++</span>  {		<span style="color:#75715e">//æ§åˆ¶i
</span><span style="color:#75715e"></span>			<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">arr</span>[<span style="color:#a6e22e">j</span>] &lt; <span style="color:#a6e22e">arr</span>[<span style="color:#a6e22e">i</span>] {
				<span style="color:#a6e22e">memory</span>[<span style="color:#a6e22e">i</span>] = int(<span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Max</span>(float64(<span style="color:#a6e22e">memory</span>[<span style="color:#a6e22e">j</span>]<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>),float64(<span style="color:#a6e22e">memory</span>[<span style="color:#a6e22e">i</span>])))
			}
		}
	}
	<span style="color:#a6e22e">max</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>,<span style="color:#a6e22e">item</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">memory</span> {
		<span style="color:#a6e22e">max</span> = int(<span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Max</span>(float64(<span style="color:#a6e22e">item</span>),float64(<span style="color:#a6e22e">max</span>)))
	}
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">max</span>
}
</code></pre></div><h2 id="lcs-">lcs ğŸŒ»</h2>
<hr>
<p><code>longest common substring</code> æœ€é•¿å…¬å…±å­åºåˆ—   ç»™å®šæ•°ç»„<code>arr1ï¼Œarr2</code>ï¼Œ æœ€é•¿å…¬å…±å­åºåˆ—ã€‚</p>
<h4 id="åŠ¨æ€è½¬ç§»æ–¹ç¨‹-2">åŠ¨æ€è½¬ç§»æ–¹ç¨‹ğŸ…</h4>
<p><img src="http://image.innoweb.cn/2020-01-31-002451.png" alt="image-20200104120155955" style="zoom:67%;" /></p>
<h4 id="æš´åŠ›é€’å½’-2">æš´åŠ›é€’å½’ğŸ“</h4>
<p>æ ¹æ®åŠ¨æ€è½¬ç§»æ–¹ç¨‹æˆ‘ä»¬å¯ä»¥å¾ˆè½»æ¾çš„å†™å‡ºé€’å½’æ–¹æ³•</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">lcsRecursive</span>(<span style="color:#a6e22e">m</span>,<span style="color:#a6e22e">n</span> []<span style="color:#66d9ef">int</span>,<span style="color:#a6e22e">i</span>,<span style="color:#a6e22e">j</span> <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">||</span> <span style="color:#a6e22e">j</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> {
		<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>
	}
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">m</span>[<span style="color:#a6e22e">i</span>] <span style="color:#f92672">==</span> <span style="color:#a6e22e">n</span>[<span style="color:#a6e22e">j</span>] {
		<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">lcsRecursive</span>(<span style="color:#a6e22e">m</span>,<span style="color:#a6e22e">n</span>,<span style="color:#a6e22e">i</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>,<span style="color:#a6e22e">j</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)
	}<span style="color:#66d9ef">else</span>{
		<span style="color:#66d9ef">return</span> int(<span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Max</span>(float64(<span style="color:#a6e22e">lcsRecursive</span>(<span style="color:#a6e22e">m</span>,<span style="color:#a6e22e">n</span>,<span style="color:#a6e22e">i</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>,<span style="color:#a6e22e">j</span>)),float64(<span style="color:#a6e22e">lcsRecursive</span>(<span style="color:#a6e22e">m</span>,<span style="color:#a6e22e">n</span>,<span style="color:#a6e22e">i</span>,<span style="color:#a6e22e">j</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>))))
	}
}
</code></pre></div><h4 id="åŠ¨æ€è§„åˆ’è§£å†³-1">åŠ¨æ€è§„åˆ’è§£å†³ğŸ’</h4>
<p>æ ¹æ®æˆ‘ä»¬å¯¹dpæ•°ç»„è¿›è¡Œåˆ†æä¸éš¾æ¨æ•²å‡ºè§„å¾‹ï¼Œåšå‡ºä»ä¸‹è€Œä¸Šçš„åŠ¨æ€è§„åˆ’è§£å†³æ–¹æ¡ˆå³å¯ã€‚</p>
<p><img src="http://image.innoweb.cn/2020-01-31-002511.png" alt=""></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">lcsRynamic</span>(<span style="color:#a6e22e">m</span>,<span style="color:#a6e22e">n</span> []<span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
	<span style="color:#66d9ef">if</span> len(<span style="color:#a6e22e">m</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">||</span> len(<span style="color:#a6e22e">n</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> {
		<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
	}

	<span style="color:#a6e22e">linear_dp</span> <span style="color:#f92672">:=</span> make([][]<span style="color:#66d9ef">int</span>, len(<span style="color:#a6e22e">m</span>)<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)

	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">idx</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">linear_dp</span> {
		<span style="color:#a6e22e">linear_dp</span>[<span style="color:#a6e22e">idx</span>] = make([]<span style="color:#66d9ef">int</span>, len(<span style="color:#a6e22e">n</span>)<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)
	}

	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">1</span>; <span style="color:#a6e22e">i</span> &lt; len(<span style="color:#a6e22e">linear_dp</span>); <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>  {
		<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">j</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">1</span>; <span style="color:#a6e22e">j</span> &lt; len(<span style="color:#a6e22e">linear_dp</span>[<span style="color:#a6e22e">i</span>]); <span style="color:#a6e22e">j</span><span style="color:#f92672">++</span>  {
			<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">m</span>[<span style="color:#a6e22e">i</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">==</span> <span style="color:#a6e22e">n</span>[<span style="color:#a6e22e">j</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] {
				<span style="color:#a6e22e">linear_dp</span>[<span style="color:#a6e22e">i</span>][<span style="color:#a6e22e">j</span>] = <span style="color:#a6e22e">linear_dp</span>[<span style="color:#a6e22e">i</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][<span style="color:#a6e22e">j</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
			}<span style="color:#66d9ef">else</span>{
				<span style="color:#a6e22e">linear_dp</span>[<span style="color:#a6e22e">i</span>][<span style="color:#a6e22e">j</span>] = int(<span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Max</span>(float64(<span style="color:#a6e22e">linear_dp</span>[<span style="color:#a6e22e">i</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][<span style="color:#a6e22e">j</span>]),float64(<span style="color:#a6e22e">linear_dp</span>[<span style="color:#a6e22e">i</span>][<span style="color:#a6e22e">j</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>])))
			}
		}
	}
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">idx</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">linear_dp</span> {
		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">linear_dp</span>[<span style="color:#a6e22e">idx</span>])
	}
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">linear_dp</span>[len(<span style="color:#a6e22e">m</span>)][len(<span style="color:#a6e22e">n</span>)]
}
</code></pre></div><h1 id="åŒºé—´æ¨¡å‹-">åŒºé—´æ¨¡å‹ ğŸŒº</h1>
<p>æ‰€è°“åŒºé—´dpï¼Œé¡¾åæ€ä¹‰å°±æ˜¯åœ¨ä¸€æ®µåŒºé—´ä¸Šçš„åŠ¨æ€è§„åˆ’ã€‚å®ƒæ—¢è¦æ»¡è¶³dpé—®é¢˜çš„æœ€ä¼˜å­ç»“æ„å’Œæ— åæ•ˆæ€§å¤–ï¼Œè¿˜åº”è¯¥ç¬¦åˆåœ¨åŒºé—´ä¸Šæ“ä½œçš„ç‰¹ç‚¹ã€‚æˆ‘çš„ç†è§£æ˜¯å¾€å¾€ä¼šå¯¹åŒºé—´è¿›è¡Œåˆå¹¶æ“ä½œã€‚æŠ‘æˆ–æ˜¯å•ä¸ªå…ƒç´ ï¼ˆå¯çœ‹æˆä¸€ä¸ªå°åŒºé—´ï¼‰è·¨åŒºé—´è¿›è¡Œæ“ä½œã€‚ä¾‹å¦‚æ‹¬å·åŒ¹é…é—®é¢˜ï¼ŒçŸ³å­åˆå¹¶é—®é¢˜ï¼ˆé€šè¿‡å¤šæ¬¡çš„ç›¸é‚»åˆå¹¶ï¼Œæœ€åå®è´¨ä¸Šä¼šäº§ç”Ÿè·¨åŒºé—´çš„åˆå¹¶ï¼Œå¦‚æœä½ æŠŠå…¶ä¸­çš„çŸ³å­çœ‹ä½œå‚è€ƒç³»çš„è¯å°±å¾ˆå®¹æ˜“æ„Ÿè§‰å‡ºæ¥ï¼‰ï¼Œè¿˜æœ‰åœ¨æ•´æ•°ä¸­æ’å…¥è¿ç®—ç¬¦å·çš„é—®é¢˜ï¼ˆåˆ©ç”¨è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ä»¥åŠäº¤æ¢å¾‹å¯çœ‹å‡ºï¼‰ï¼Œè¿™æ ·ä»¥æ¥ï¼Œå¦‚æœæˆ‘ä»¬è¦å¾—çŸ¥ä¸€ä¸ªå¤§åŒºé—´çš„æƒ…å†µï¼Œç”±äºå®ƒå¿…å®šæ˜¯ç”±ä»å¤šä¸ªé•¿åº¦ä¸ä¸€çš„å°åŒºé—´è½¬ç§»è€Œæ¥ï¼ˆè½¬ç§»æƒ…å†µæœªçŸ¥ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ±‚å¾—å¤šä¸ªå°åŒºé—´çš„æƒ…å†µï¼Œä»è€Œåˆå¹¶ä¿¡æ¯ï¼Œå¾—åˆ°å¤§åŒºé—´ã€‚</p>
<p><strong>å¯¹äºä¸€ä¸ªé•¿åº¦ä¸ºnçš„åŒºé—´ï¼Œç¡®å®šå®ƒçš„å­åŒºé—´éœ€è¦é¦–å°¾ä¸¤ä¸ªæŒ‡é’ˆï¼Œæ˜¾ç„¶å­åŒºé—´æ•°é‡çº§ä¸ºn2ï¼Œé‚£åŒºé—´dpçš„å¤æ‚åº¦ä¹Ÿå°±ä¸ºn2</strong></p>
<h3 id="èŒƒå¼-">èŒƒå¼ ğŸŒ´</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">for</span> <span style="color:#a6e22e">len</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">2</span>; <span style="color:#a6e22e">len</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">n</span>; <span style="color:#a6e22e">len</span><span style="color:#f92672">++</span>  {		<span style="color:#75715e">/* åŒºé—´é•¿åº¦ï¼Œåœ¨è¿™é“é¢˜é‡ŒæŒ‡çš„å°±æ˜¯ç¬¬1ä¸ªåˆ°ç¬¬nä¸ªã€‚ */</span>
    <span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> &lt; <span style="color:#a6e22e">n</span> ; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>  {			<span style="color:#75715e">/* æšä¸¾èµ·ç‚¹ï¼Œä»1å¼€å§‹åˆ°nï¼Œiè¡¨ç¤ºèµ·ç‚¹ä¸‹æ ‡ï¼Œjè¡¨ç¤ºç»ˆç‚¹ä¸‹æ ‡ï¼Œ */</span>
        <span style="color:#a6e22e">j</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">len</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>					<span style="color:#75715e">/* è®¡ç®—ç»ˆç‚¹åæ ‡ */</span>
        <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">j</span> <span style="color:#f92672">&gt;=</span> <span style="color:#a6e22e">n</span> {						<span style="color:#75715e">/* çœå»è¶Šç•Œçš„éƒ¨åˆ† */</span>
            <span style="color:#66d9ef">continue</span>
        }
        <span style="color:#66d9ef">for</span> <span style="color:#a6e22e">k</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">i</span>; <span style="color:#a6e22e">k</span> &lt; <span style="color:#a6e22e">j</span> ; <span style="color:#a6e22e">k</span><span style="color:#f92672">++</span>  {		<span style="color:#75715e">/* æšä¸¾åŒºé—´åˆ†å‰²ç‚¹ */</span>
            <span style="color:#75715e">//do something
</span><span style="color:#75715e"></span>        }
    }
}
</code></pre></div><h2 id="çŸ³å­åˆå¹¶é—®é¢˜">çŸ³å­åˆå¹¶é—®é¢˜ğŸŒ¹</h2>
<hr>
<p>æœ‰Nå †çŸ³å­æ’æˆä¸€æ’ï¼Œæ¯å †çŸ³å­æœ‰ä¸€å®šçš„æ•°é‡ã€‚ç°è¦å°†Nå †çŸ³å­å¹¶æˆä¸ºä¸€å †ã€‚åˆå¹¶çš„è¿‡ç¨‹åªèƒ½æ¯æ¬¡å°†ç›¸é‚»çš„ä¸¤å †çŸ³å­å †æˆä¸€å †ï¼Œæ¯æ¬¡åˆå¹¶èŠ±è´¹çš„ä»£ä»·ä¸ºè¿™ä¸¤å †çŸ³å­çš„å’Œï¼Œç»è¿‡N-1æ¬¡åˆå¹¶åæˆä¸ºä¸€å †ã€‚æ±‚å‡ºæ€»çš„ä»£ä»·æœ€å°å€¼ã€‚</p>
<h4 id="åŠ¨æ€è½¬ç§»æ–¹ç¨‹-3">åŠ¨æ€è½¬ç§»æ–¹ç¨‹ğŸŒ³</h4>
<p>$$
<code>dp[i][j]=min(dp[i][j],dp[i][k]+dp[k+1][j]+w[i][j]);</code>
$$</p>
<h4 id="é€’å½’ç©·ä¸¾è§£å†³">é€’å½’ç©·ä¸¾è§£å†³ğŸƒ</h4>
<p>é€’å½’çš„æ–¹æ³•æˆ‘ä»¬é€šè¿‡åŠ¨æ€è½¬ç§»æ–¹ç¨‹å’Œå®¹æ˜“å°±èƒ½å†™å‡ºæ¥ï¼Œä¸è¿‡è¿™é‡Œæˆ‘ä»¬è¦æ³¨æ„æˆ‘æ³¨é‡Šçš„éƒ¨åˆ†ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">mergeStoneRecursive</span>(<span style="color:#a6e22e">sum</span> []<span style="color:#66d9ef">int</span>, <span style="color:#a6e22e">i</span>, <span style="color:#a6e22e">j</span> <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">j</span> {
		<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
	}

	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">j</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> {
		<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">sum</span>[<span style="color:#a6e22e">j</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">-</span> <span style="color:#a6e22e">sum</span>[<span style="color:#a6e22e">i</span>]
	}

	<span style="color:#a6e22e">bestChoice</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">MaxInt64</span>

	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">k</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">i</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>; <span style="color:#a6e22e">k</span> &lt; <span style="color:#a6e22e">j</span> ; <span style="color:#a6e22e">k</span><span style="color:#f92672">++</span> {
		<span style="color:#a6e22e">l</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">mergeStoneRecursive</span>(<span style="color:#a6e22e">sum</span>,<span style="color:#a6e22e">i</span>,<span style="color:#a6e22e">k</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) <span style="color:#f92672">+</span> <span style="color:#a6e22e">mergeStoneRecursive</span>(<span style="color:#a6e22e">sum</span>,<span style="color:#a6e22e">k</span>,<span style="color:#a6e22e">j</span>) <span style="color:#f92672">+</span> <span style="color:#a6e22e">sum</span>[<span style="color:#a6e22e">j</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">-</span> <span style="color:#a6e22e">sum</span>[<span style="color:#a6e22e">i</span>]
		<span style="color:#a6e22e">r</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">mergeStoneRecursive</span>(<span style="color:#a6e22e">sum</span>,<span style="color:#a6e22e">i</span>,<span style="color:#a6e22e">k</span>) <span style="color:#f92672">+</span> <span style="color:#a6e22e">mergeStoneRecursive</span>(<span style="color:#a6e22e">sum</span>,<span style="color:#a6e22e">k</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>,<span style="color:#a6e22e">j</span>) <span style="color:#f92672">+</span> <span style="color:#a6e22e">sum</span>[<span style="color:#a6e22e">j</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">-</span> <span style="color:#a6e22e">sum</span>[<span style="color:#a6e22e">i</span>]
		<span style="color:#a6e22e">cbs</span> <span style="color:#f92672">:=</span> int(<span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Min</span>(float64(<span style="color:#a6e22e">l</span>),float64(<span style="color:#a6e22e">r</span>)))
		<span style="color:#75715e">// å°±ä»¥2ï¼Œ3ï¼Œ1ä¸ºä¾‹ï¼Œå…ˆåˆå¹¶2å’Œ3ä¸å…ˆåˆå¹¶3å’Œ1çš„ç»“æœæ˜¯ä¸åŒçš„æˆ‘ä»¬è¦å–æœ€å°å€¼ã€‚
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">bestChoice</span> = int(<span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Min</span>(float64(<span style="color:#a6e22e">cbs</span>),float64(<span style="color:#a6e22e">bestChoice</span>)))
	}

	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">bestChoice</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">MaxInt64</span> {
		<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
	}<span style="color:#66d9ef">else</span>{
		<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">bestChoice</span>
	}
}
</code></pre></div><h4 id="å¤‡å¿˜å½•ä¼˜åŒ–">å¤‡å¿˜å½•ä¼˜åŒ–ğŸ‚</h4>
<p>å¦‚ä¸Šæ–‡æ‰€è¯´åŒºé—´dpçš„æ•°ç»„æ˜¯äºŒç»´å…³äºiå’Œjçš„ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">mergeStoneRecursiveMemorized</span>(<span style="color:#a6e22e">sum</span> []<span style="color:#66d9ef">int</span>, <span style="color:#a6e22e">memory</span> [][]<span style="color:#66d9ef">int</span>, <span style="color:#a6e22e">i</span>, <span style="color:#a6e22e">j</span> <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
   <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">j</span> {
      <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
   }

   <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">memory</span>[<span style="color:#a6e22e">i</span>][<span style="color:#a6e22e">j</span>] <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span> {
      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">memory</span>[<span style="color:#a6e22e">i</span>][<span style="color:#a6e22e">j</span>]
   }

   <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">j</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> {
      <span style="color:#a6e22e">memory</span>[<span style="color:#a6e22e">i</span>][<span style="color:#a6e22e">j</span>] = <span style="color:#a6e22e">sum</span>[<span style="color:#a6e22e">j</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">-</span> <span style="color:#a6e22e">sum</span>[<span style="color:#a6e22e">i</span>]
      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">memory</span>[<span style="color:#a6e22e">i</span>][<span style="color:#a6e22e">j</span>]
   }

   <span style="color:#a6e22e">bestChoice</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">MaxInt64</span>

   <span style="color:#66d9ef">for</span> <span style="color:#a6e22e">k</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">i</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>; <span style="color:#a6e22e">k</span> &lt; <span style="color:#a6e22e">j</span> ; <span style="color:#a6e22e">k</span><span style="color:#f92672">++</span> {
      <span style="color:#a6e22e">l</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">mergeStoneRecursiveMemorized</span>(<span style="color:#a6e22e">sum</span>,<span style="color:#a6e22e">memory</span>,<span style="color:#a6e22e">i</span>,<span style="color:#a6e22e">k</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) <span style="color:#f92672">+</span> <span style="color:#a6e22e">mergeStoneRecursiveMemorized</span>(<span style="color:#a6e22e">sum</span>,<span style="color:#a6e22e">memory</span>,<span style="color:#a6e22e">k</span>,<span style="color:#a6e22e">j</span>) <span style="color:#f92672">+</span> <span style="color:#a6e22e">sum</span>[<span style="color:#a6e22e">j</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">-</span> <span style="color:#a6e22e">sum</span>[<span style="color:#a6e22e">i</span>]
      <span style="color:#a6e22e">r</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">mergeStoneRecursiveMemorized</span>(<span style="color:#a6e22e">sum</span>,<span style="color:#a6e22e">memory</span>,<span style="color:#a6e22e">i</span>,<span style="color:#a6e22e">k</span>) <span style="color:#f92672">+</span> <span style="color:#a6e22e">mergeStoneRecursiveMemorized</span>(<span style="color:#a6e22e">sum</span>,<span style="color:#a6e22e">memory</span>,<span style="color:#a6e22e">k</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>,<span style="color:#a6e22e">j</span>) <span style="color:#f92672">+</span> <span style="color:#a6e22e">sum</span>[<span style="color:#a6e22e">j</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">-</span> <span style="color:#a6e22e">sum</span>[<span style="color:#a6e22e">i</span>]
      <span style="color:#a6e22e">cbs</span> <span style="color:#f92672">:=</span> int(<span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Min</span>(float64(<span style="color:#a6e22e">l</span>),float64(<span style="color:#a6e22e">r</span>)))
      <span style="color:#a6e22e">bestChoice</span> = int(<span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Min</span>(float64(<span style="color:#a6e22e">cbs</span>),float64(<span style="color:#a6e22e">bestChoice</span>)))
   }

   <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">bestChoice</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">MaxInt64</span> {
      <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
   }<span style="color:#66d9ef">else</span>{
      <span style="color:#a6e22e">memory</span>[<span style="color:#a6e22e">i</span>][<span style="color:#a6e22e">j</span>] = <span style="color:#a6e22e">bestChoice</span>
      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">bestChoice</span>
   }
}
</code></pre></div><h4 id="åŠ¨æ€è§„åˆ’è§£å†³-2">åŠ¨æ€è§„åˆ’è§£å†³ğŸŒ±</h4>
<p>è®¾è®¡åŠ¨æ€è§„åˆ’å†™æ³•ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆåˆ†æä¸€ä¸‹ä¸Šæ–‡çš„å¤‡å¿˜å½•çš„ç»“æ„ã€‚</p>
<p><img src="http://image.innoweb.cn/2020-01-31-002528.png" alt="è€ƒåœºæ¡ˆä»¶ç®¡ç†"></p>
<p>é¦–å…ˆ<code>i==j</code>æ—¶ï¼Œåˆå¹¶æ¬¡æ•°ä¸º<code>0</code>ï¼Œ<code>j&lt;i</code>æ—¶åˆå¹¶æ¬¡æ•°ä¸º<code>0</code>ï¼Œ<code>j = j+1</code>æ—¶åˆå¹¶æ¬¡æ•°ä¸º<code>sum[j]-sum[i-1]</code>ï¼Œæˆ‘æ›´å€¾å‘äºè®©æ•°ç»„æœ€å¤–é¢ç•™ä¸€å±‚ä½œä¸ºåˆå§‹å€¼ï¼Œæ‰€ä»¥içš„ä¸‹æ ‡ä»<code>1</code>å¼€å§‹ï¼Œä½†æ˜¯å®é™…ä¸ŠåŒºé—´æ˜¯æ²¡æœ‰å¿…è¦å¤šå‡ºä¸€åœˆçš„ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">mergeStone</span>(<span style="color:#a6e22e">n</span> <span style="color:#66d9ef">int</span>,<span style="color:#a6e22e">w</span> []<span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span>   {
	<span style="color:#a6e22e">dp</span> <span style="color:#f92672">:=</span> make([][]<span style="color:#66d9ef">int</span>,<span style="color:#a6e22e">n</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)
	<span style="color:#66d9ef">for</span>  <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> &lt; <span style="color:#a6e22e">n</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span> ; <span style="color:#a6e22e">i</span> <span style="color:#f92672">++</span>  {
		<span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span>] = make([]<span style="color:#66d9ef">int</span>,<span style="color:#a6e22e">n</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)
	}
	<span style="color:#75715e">/*å£°æ˜dpæ•°ç»„*/</span>
	<span style="color:#a6e22e">sum</span> <span style="color:#f92672">:=</span> make([]<span style="color:#66d9ef">int</span>, <span style="color:#a6e22e">n</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">idx</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">1</span>; <span style="color:#a6e22e">idx</span> &lt; len(<span style="color:#a6e22e">sum</span>); <span style="color:#a6e22e">idx</span><span style="color:#f92672">++</span> {
		<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">1</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">idx</span> ; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>  {
			<span style="color:#a6e22e">sum</span>[<span style="color:#a6e22e">idx</span>] <span style="color:#f92672">+=</span> <span style="color:#a6e22e">w</span>[<span style="color:#a6e22e">i</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]
		}
	}
	<span style="color:#75715e">/*è®¡ç®—ç»„åˆçŸ³å¤´èŠ±è´¹ï¼ˆä»0å¼€å§‹ï¼Œ0è¡¨ç¤ºæ²¡æœ‰çŸ³å¤´ï¼‰*/</span>
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">len</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">2</span>; <span style="color:#a6e22e">len</span> &lt; <span style="color:#a6e22e">n</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>; <span style="color:#a6e22e">len</span><span style="color:#f92672">++</span>  {		<span style="color:#75715e">/* åŒºé—´é•¿åº¦ï¼Œåœ¨è¿™é“é¢˜é‡ŒæŒ‡çš„å°±æ˜¯ç¬¬1ä¸ªåˆ°ç¬¬nä¸ªã€‚ */</span>
		<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">1</span>; <span style="color:#a6e22e">i</span> &lt; <span style="color:#a6e22e">n</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span> ; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>  {		<span style="color:#75715e">/* æšä¸¾èµ·ç‚¹ï¼Œä»1å¼€å§‹åˆ°nï¼Œiè¡¨ç¤ºèµ·ç‚¹ä¸‹æ ‡ï¼Œjè¡¨ç¤ºç»ˆç‚¹ä¸‹æ ‡ï¼Œ */</span>
			<span style="color:#a6e22e">j</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">len</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>					<span style="color:#75715e">/* è®¡ç®—ç»ˆç‚¹åæ ‡ */</span>
			<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">j</span> &gt; <span style="color:#a6e22e">n</span> {						<span style="color:#75715e">/* çœå»è¶Šç•Œçš„éƒ¨åˆ† */</span>
				<span style="color:#66d9ef">continue</span>
			}
			<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">k</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">i</span>; <span style="color:#a6e22e">k</span> &lt; <span style="color:#a6e22e">j</span> ; <span style="color:#a6e22e">k</span><span style="color:#f92672">++</span>  {		<span style="color:#75715e">/* æšä¸¾åŒºé—´åˆ†å‰²ç‚¹ */</span>
				<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span>][<span style="color:#a6e22e">j</span>] <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> {			<span style="color:#75715e">/* è¿™é‡Œæˆ‘ä»¬è¦é¿å…å‰å€¼ä¸º0 */</span>
					<span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span>][<span style="color:#a6e22e">j</span>] = <span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span>][<span style="color:#a6e22e">k</span>]<span style="color:#f92672">+</span><span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">k</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>][<span style="color:#a6e22e">j</span>]<span style="color:#f92672">+</span><span style="color:#a6e22e">sum</span>[<span style="color:#a6e22e">j</span>]<span style="color:#f92672">-</span><span style="color:#a6e22e">sum</span>[<span style="color:#a6e22e">i</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]
				}<span style="color:#66d9ef">else</span>{
					<span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span>][<span style="color:#a6e22e">j</span>] = int(<span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Min</span>(float64(<span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span>][<span style="color:#a6e22e">j</span>]),float64(<span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span>][<span style="color:#a6e22e">k</span>]<span style="color:#f92672">+</span><span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">k</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>][<span style="color:#a6e22e">j</span>]<span style="color:#f92672">+</span><span style="color:#a6e22e">sum</span>[<span style="color:#a6e22e">j</span>]<span style="color:#f92672">-</span><span style="color:#a6e22e">sum</span>[<span style="color:#a6e22e">i</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>])))
				}

			}
		}
	}
	<span style="color:#a6e22e">util</span>.<span style="color:#a6e22e">Print2DArray</span>(<span style="color:#a6e22e">dp</span>)
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">dp</span>[<span style="color:#ae81ff">1</span>][<span style="color:#a6e22e">n</span>]
}
</code></pre></div><h1 id="éé€’å½’æ¨¡å‹">éé€’å½’æ¨¡å‹</h1>
<p>éé€’å½’æ¨¡å‹å³æŒ‡ä¸æ˜“äºç”¨é€’å½’çš„æ–¹å¼æ¨æ•²å‡ºç­”æ¡ˆçš„åŠ¨æ€è§„åˆ’é—®é¢˜ï¼Œä¹‹å‰æˆ‘ä»¬çš„åŠ¨æ€è§„åˆ’è§£æ³•éƒ½æ˜¯ç”±é€’å½’æ–¹æ³•çš„dpæ•°ç»„æ¨å‡ºæ¥çš„ï¼Œè¿™é‡Œæˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•ç›´æ¥å¯¹çŠ¶æ€è¿›è¡Œæšä¸¾ã€‚</p>
<h2 id="123-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº-iiihttpsleetcode-cncomproblemsbest-time-to-buy-and-sell-stock-iii"><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iii/">123. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº III</a></h2>
<hr>
<p>ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„ç¬¬ i ä¸ªå…ƒç´ æ˜¯ä¸€æ”¯ç»™å®šçš„è‚¡ç¥¨åœ¨ç¬¬ i å¤©çš„ä»·æ ¼ï¼Œè®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚ä½ æœ€å¤šå¯ä»¥å®Œæˆ ä¸¤ç¬”äº¤æ˜“ã€‚</p>
<blockquote>
<p>æ³¨æ„: ä½ ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰ã€‚</p>
</blockquote>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">è¾“å…¥</span><span style="color:#f92672">:</span> [<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">4</span>]
<span style="color:#a6e22e">è¾“å‡º</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">6</span>
<span style="color:#a6e22e">è§£é‡Š</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">åœ¨ç¬¬</span> <span style="color:#ae81ff">4</span> <span style="color:#a6e22e">å¤©</span><span style="color:#960050;background-color:#1e0010">ï¼ˆ</span><span style="color:#a6e22e">è‚¡ç¥¨ä»·æ ¼</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span><span style="color:#960050;background-color:#1e0010">ï¼‰</span><span style="color:#a6e22e">çš„æ—¶å€™ä¹°å…¥</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">åœ¨ç¬¬</span> <span style="color:#ae81ff">6</span> <span style="color:#a6e22e">å¤©</span><span style="color:#960050;background-color:#1e0010">ï¼ˆ</span><span style="color:#a6e22e">è‚¡ç¥¨ä»·æ ¼</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span><span style="color:#960050;background-color:#1e0010">ï¼‰</span><span style="color:#a6e22e">çš„æ—¶å€™å–å‡º</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span><span style="color:#f92672">-</span><span style="color:#ae81ff">0</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span> <span style="color:#960050;background-color:#1e0010">ã€‚</span>
     <span style="color:#a6e22e">éšå</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">åœ¨ç¬¬</span> <span style="color:#ae81ff">7</span> <span style="color:#a6e22e">å¤©</span><span style="color:#960050;background-color:#1e0010">ï¼ˆ</span><span style="color:#a6e22e">è‚¡ç¥¨ä»·æ ¼</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span><span style="color:#960050;background-color:#1e0010">ï¼‰</span><span style="color:#a6e22e">çš„æ—¶å€™ä¹°å…¥</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">åœ¨ç¬¬</span> <span style="color:#ae81ff">8</span> <span style="color:#a6e22e">å¤©</span> <span style="color:#960050;background-color:#1e0010">ï¼ˆ</span><span style="color:#a6e22e">è‚¡ç¥¨ä»·æ ¼</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span><span style="color:#960050;background-color:#1e0010">ï¼‰</span><span style="color:#a6e22e">çš„æ—¶å€™å–å‡º</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span> <span style="color:#960050;background-color:#1e0010">ã€‚</span>
</code></pre></div><h3 id="1-ç©·ä¸¾æ¡†æ¶">1. ç©·ä¸¾æ¡†æ¶</h3>
<p>é¦–å…ˆï¼Œè¿˜æ˜¯ä¸€æ ·çš„æ€è·¯ï¼šå¦‚ä½•ç©·ä¸¾ï¼Ÿè¿™é‡Œçš„ç©·ä¸¾æ€è·¯å’Œé€’å½’çš„æ€æƒ³ä¸å¤ªä¸€æ ·ã€‚</p>
<p>é€’å½’å…¶å®æ˜¯ç¬¦åˆæˆ‘ä»¬æ€è€ƒçš„é€»è¾‘çš„ï¼Œä¸€æ­¥æ­¥æ¨è¿›ï¼Œé‡åˆ°æ— æ³•è§£å†³çš„å°±ä¸¢ç»™é€’å½’ï¼Œä¸€ä¸å°å¿ƒå°±åšå‡ºæ¥äº†ï¼Œå¯è¯»æ€§è¿˜å¾ˆå¥½ã€‚ç¼ºç‚¹å°±æ˜¯ä¸€æ—¦å‡ºé”™ï¼Œä½ ä¹Ÿä¸å®¹æ˜“æ‰¾åˆ°é”™è¯¯å‡ºç°çš„åŸå› ã€‚æ¯”å¦‚ä¸Šç¯‡æ–‡ç« çš„é€’å½’è§£æ³•ï¼Œè‚¯å®šè¿˜æœ‰è®¡ç®—å†—ä½™ï¼Œä½†ç¡®å®ä¸å®¹æ˜“æ‰¾åˆ°ã€‚</p>
<p>è€Œè¿™é‡Œï¼Œæˆ‘ä»¬ä¸ç”¨é€’å½’æ€æƒ³è¿›è¡Œç©·ä¸¾ï¼Œè€Œæ˜¯åˆ©ç”¨ã€ŒçŠ¶æ€ã€è¿›è¡Œç©·ä¸¾ã€‚æˆ‘ä»¬å…·ä½“åˆ°æ¯ä¸€å¤©ï¼Œçœ‹çœ‹æ€»å…±æœ‰å‡ ç§å¯èƒ½çš„ã€ŒçŠ¶æ€ã€ï¼Œå†æ‰¾å‡ºæ¯ä¸ªã€ŒçŠ¶æ€ã€å¯¹åº”çš„ã€Œé€‰æ‹©ã€ã€‚æˆ‘ä»¬è¦ç©·ä¸¾æ‰€æœ‰ã€ŒçŠ¶æ€ã€ï¼Œç©·ä¸¾çš„ç›®çš„æ˜¯æ ¹æ®å¯¹åº”çš„ã€Œé€‰æ‹©ã€æ›´æ–°çŠ¶æ€ã€‚å¬èµ·æ¥æŠ½è±¡ï¼Œä½ åªè¦è®°ä½ã€ŒçŠ¶æ€ã€å’Œã€Œé€‰æ‹©ã€ä¸¤ä¸ªè¯å°±è¡Œï¼Œä¸‹é¢å®æ“ä¸€ä¸‹å°±å¾ˆå®¹æ˜“æ˜ç™½äº†ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">for</span> <span style="color:#a6e22e">çŠ¶æ€1</span> <span style="color:#66d9ef">in</span> <span style="color:#a6e22e">çŠ¶æ€1çš„æ‰€æœ‰å–å€¼</span><span style="color:#960050;background-color:#1e0010">ï¼š</span>
    <span style="color:#66d9ef">for</span> <span style="color:#a6e22e">çŠ¶æ€2</span> <span style="color:#66d9ef">in</span> <span style="color:#a6e22e">çŠ¶æ€2çš„æ‰€æœ‰å–å€¼</span><span style="color:#960050;background-color:#1e0010">ï¼š</span>
        <span style="color:#66d9ef">for</span> ...
            <span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">çŠ¶æ€1</span>][<span style="color:#a6e22e">çŠ¶æ€2</span>][...] <span style="color:#f92672">=</span> <span style="color:#a6e22e">æ‹©ä¼˜</span>(<span style="color:#a6e22e">é€‰æ‹©1</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">é€‰æ‹©2</span>...)
</code></pre></div><p>æ¯”å¦‚è¯´è¿™ä¸ªé—®é¢˜ï¼Œæ¯å¤©éƒ½æœ‰ä¸‰ç§ã€Œé€‰æ‹©ã€ï¼šä¹°å…¥ã€å–å‡ºã€æ— æ“ä½œï¼Œæˆ‘ä»¬ç”¨ buy, sell, rest è¡¨ç¤ºè¿™ä¸‰ç§é€‰æ‹©ã€‚ä½†é—®é¢˜æ˜¯ï¼Œå¹¶ä¸æ˜¯æ¯å¤©éƒ½å¯ä»¥ä»»æ„é€‰æ‹©è¿™ä¸‰ç§é€‰æ‹©çš„ï¼Œå› ä¸º sell å¿…é¡»åœ¨ buy ä¹‹åï¼Œbuy å¿…é¡»åœ¨ sell ä¹‹åã€‚é‚£ä¹ˆ rest æ“ä½œè¿˜åº”è¯¥åˆ†ä¸¤ç§çŠ¶æ€ï¼Œä¸€ç§æ˜¯ buy ä¹‹åçš„ restï¼ˆæŒæœ‰äº†è‚¡ç¥¨ï¼‰ï¼Œä¸€ç§æ˜¯ sell ä¹‹åçš„ restï¼ˆæ²¡æœ‰æŒæœ‰è‚¡ç¥¨ï¼‰ã€‚è€Œä¸”åˆ«å¿˜äº†ï¼Œæˆ‘ä»¬è¿˜æœ‰äº¤æ˜“æ¬¡æ•° k çš„é™åˆ¶ï¼Œå°±æ˜¯è¯´ä½  buy è¿˜åªèƒ½åœ¨ k &gt; 0 çš„å‰æä¸‹æ“ä½œã€‚</p>
<p>å¾ˆå¤æ‚å¯¹å§ï¼Œä¸è¦æ€•ï¼Œæˆ‘ä»¬ç°åœ¨çš„ç›®çš„åªæ˜¯ç©·ä¸¾ï¼Œä½ æœ‰å†å¤šçš„çŠ¶æ€ï¼Œè€å¤«è¦åšçš„å°±æ˜¯ä¸€æŠŠæ¢­å…¨éƒ¨åˆ—ä¸¾å‡ºæ¥ã€‚è¿™ä¸ªé—®é¢˜çš„ã€ŒçŠ¶æ€ã€æœ‰ä¸‰ä¸ªï¼Œç¬¬ä¸€ä¸ªæ˜¯å¤©æ•°ï¼Œç¬¬äºŒä¸ªæ˜¯å…è®¸äº¤æ˜“çš„æœ€å¤§æ¬¡æ•°ï¼Œç¬¬ä¸‰ä¸ªæ˜¯å½“å‰çš„æŒæœ‰çŠ¶æ€ï¼ˆå³ä¹‹å‰è¯´çš„ rest çš„çŠ¶æ€ï¼Œæˆ‘ä»¬ä¸å¦¨ç”¨ 1 è¡¨ç¤ºæŒæœ‰ï¼Œ0 è¡¨ç¤ºæ²¡æœ‰æŒæœ‰ï¼‰ã€‚ç„¶åæˆ‘ä»¬ç”¨ä¸€ä¸ªä¸‰ç»´æ•°ç»„å°±å¯ä»¥è£…ä¸‹è¿™å‡ ç§çŠ¶æ€çš„å…¨éƒ¨ç»„åˆï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span>][<span style="color:#a6e22e">k</span>][<span style="color:#ae81ff">0</span> <span style="color:#a6e22e">or</span> <span style="color:#ae81ff">1</span>]
<span style="color:#ae81ff">0</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">n</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">k</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">K</span>
<span style="color:#a6e22e">n</span> <span style="color:#a6e22e">ä¸ºå¤©æ•°</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">å¤§</span> <span style="color:#a6e22e">K</span> <span style="color:#a6e22e">ä¸ºæœ€å¤šäº¤æ˜“æ•°</span>
<span style="color:#a6e22e">æ­¤é—®é¢˜å…±</span> <span style="color:#a6e22e">n</span> <span style="color:#960050;background-color:#1e0010">Ã—</span> <span style="color:#a6e22e">K</span> <span style="color:#960050;background-color:#1e0010">Ã—</span> <span style="color:#ae81ff">2</span> <span style="color:#a6e22e">ç§çŠ¶æ€</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">å…¨éƒ¨ç©·ä¸¾å°±èƒ½æå®š</span><span style="color:#960050;background-color:#1e0010">ã€‚</span>

<span style="color:#66d9ef">for</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">n</span><span style="color:#f92672">:</span>
    <span style="color:#66d9ef">for</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">k</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">K</span><span style="color:#f92672">:</span>
        <span style="color:#66d9ef">for</span> <span style="color:#a6e22e">s</span> <span style="color:#66d9ef">in</span> {<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>}<span style="color:#f92672">:</span>
            <span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span>][<span style="color:#a6e22e">k</span>][<span style="color:#a6e22e">s</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">max</span>(<span style="color:#a6e22e">buy</span>, <span style="color:#a6e22e">sell</span>, <span style="color:#a6e22e">rest</span>)
</code></pre></div><p>è€Œä¸”æˆ‘ä»¬å¯ä»¥ç”¨è‡ªç„¶è¯­è¨€æè¿°å‡ºæ¯ä¸€ä¸ªçŠ¶æ€çš„å«ä¹‰ï¼Œæ¯”å¦‚è¯´ dp[3][2][1] çš„å«ä¹‰å°±æ˜¯ï¼šä»Šå¤©æ˜¯ç¬¬ä¸‰å¤©ï¼Œæˆ‘ç°åœ¨æ‰‹ä¸ŠæŒæœ‰ç€è‚¡ç¥¨ï¼Œè‡³ä»Šæœ€å¤šè¿›è¡Œ 2 æ¬¡äº¤æ˜“ã€‚å†æ¯”å¦‚ dp[2][3][0] çš„å«ä¹‰ï¼šä»Šå¤©æ˜¯ç¬¬äºŒå¤©ï¼Œæˆ‘ç°åœ¨æ‰‹ä¸Šæ²¡æœ‰æŒæœ‰è‚¡ç¥¨ï¼Œè‡³ä»Šæœ€å¤šè¿›è¡Œ 3 æ¬¡äº¤æ˜“ã€‚å¾ˆå®¹æ˜“ç†è§£ï¼Œå¯¹å§ï¼Ÿ</p>
<p>æˆ‘ä»¬æƒ³æ±‚çš„æœ€ç»ˆç­”æ¡ˆæ˜¯ dp[n - 1][K][0]ï¼Œå³æœ€åä¸€å¤©ï¼Œæœ€å¤šå…è®¸ K æ¬¡äº¤æ˜“ï¼Œæœ€å¤šè·å¾—å¤šå°‘åˆ©æ¶¦ã€‚è¯»è€…å¯èƒ½é—®ä¸ºä»€ä¹ˆä¸æ˜¯ dp[n - 1][K][1]ï¼Ÿå› ä¸º [1] ä»£è¡¨æ‰‹ä¸Šè¿˜æŒæœ‰è‚¡ç¥¨ï¼Œ[0] è¡¨ç¤ºæ‰‹ä¸Šçš„è‚¡ç¥¨å·²ç»å–å‡ºå»äº†ï¼Œå¾ˆæ˜¾ç„¶åè€…å¾—åˆ°çš„åˆ©æ¶¦ä¸€å®šå¤§äºå‰è€…ã€‚</p>
<p>è®°ä½å¦‚ä½•è§£é‡Šã€ŒçŠ¶æ€ã€ï¼Œä¸€æ—¦ä½ è§‰å¾—å“ªé‡Œä¸å¥½ç†è§£ï¼ŒæŠŠå®ƒç¿»è¯‘æˆè‡ªç„¶è¯­è¨€å°±å®¹æ˜“ç†è§£äº†ã€‚</p>
<h3 id="2-çŠ¶æ€è½¬ç§»æ¡†æ¶">2. çŠ¶æ€è½¬ç§»æ¡†æ¶</h3>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å®Œæˆäº†ã€ŒçŠ¶æ€ã€çš„ç©·ä¸¾ï¼Œæˆ‘ä»¬å¼€å§‹æ€è€ƒæ¯ç§ã€ŒçŠ¶æ€ã€æœ‰å“ªäº›ã€Œé€‰æ‹©ã€ï¼Œåº”è¯¥å¦‚ä½•æ›´æ–°ã€ŒçŠ¶æ€ã€ã€‚åªçœ‹ã€ŒæŒæœ‰çŠ¶æ€ã€ï¼Œå¯ä»¥ç”»ä¸ªçŠ¶æ€è½¬ç§»å›¾ã€‚</p>
<p><img src="http://image.innoweb.cn/2020-06-25-125235.png" alt="image-20200608122324089"></p>
<p>é€šè¿‡è¿™ä¸ªå›¾å¯ä»¥å¾ˆæ¸…æ¥šåœ°çœ‹åˆ°ï¼Œæ¯ç§çŠ¶æ€ï¼ˆ0 å’Œ 1ï¼‰æ˜¯å¦‚ä½•è½¬ç§»è€Œæ¥çš„ã€‚æ ¹æ®è¿™ä¸ªå›¾ï¼Œæˆ‘ä»¬æ¥å†™ä¸€ä¸‹çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span>][<span style="color:#a6e22e">k</span>][<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">max</span>(<span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][<span style="color:#a6e22e">k</span>][<span style="color:#ae81ff">0</span>], <span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][<span style="color:#a6e22e">k</span>][<span style="color:#ae81ff">1</span>] <span style="color:#f92672">+</span> <span style="color:#a6e22e">prices</span>[<span style="color:#a6e22e">i</span>])
              <span style="color:#a6e22e">max</span>(   <span style="color:#a6e22e">é€‰æ‹©</span> <span style="color:#a6e22e">rest</span>  ,           <span style="color:#a6e22e">é€‰æ‹©</span> <span style="color:#a6e22e">sell</span>      )

<span style="color:#a6e22e">è§£é‡Š</span><span style="color:#960050;background-color:#1e0010">ï¼š</span><span style="color:#a6e22e">ä»Šå¤©æˆ‘æ²¡æœ‰æŒæœ‰è‚¡ç¥¨</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">æœ‰ä¸¤ç§å¯èƒ½</span><span style="color:#960050;background-color:#1e0010">ï¼š</span>
<span style="color:#a6e22e">è¦ä¹ˆæ˜¯æˆ‘æ˜¨å¤©å°±æ²¡æœ‰æŒæœ‰</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">ç„¶åä»Šå¤©é€‰æ‹©</span> <span style="color:#a6e22e">rest</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">æ‰€ä»¥æˆ‘ä»Šå¤©è¿˜æ˜¯æ²¡æœ‰æŒæœ‰</span><span style="color:#960050;background-color:#1e0010">ï¼›</span>
<span style="color:#a6e22e">è¦ä¹ˆæ˜¯æˆ‘æ˜¨å¤©æŒæœ‰è‚¡ç¥¨</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">ä½†æ˜¯ä»Šå¤©æˆ‘</span> <span style="color:#a6e22e">sell</span> <span style="color:#a6e22e">äº†</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">æ‰€ä»¥æˆ‘ä»Šå¤©æ²¡æœ‰æŒæœ‰è‚¡ç¥¨äº†</span><span style="color:#960050;background-color:#1e0010">ã€‚</span>

<span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span>][<span style="color:#a6e22e">k</span>][<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">max</span>(<span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][<span style="color:#a6e22e">k</span>][<span style="color:#ae81ff">1</span>], <span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][<span style="color:#a6e22e">k</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][<span style="color:#ae81ff">0</span>] <span style="color:#f92672">-</span> <span style="color:#a6e22e">prices</span>[<span style="color:#a6e22e">i</span>])
              <span style="color:#a6e22e">max</span>(   <span style="color:#a6e22e">é€‰æ‹©</span> <span style="color:#a6e22e">rest</span>  ,           <span style="color:#a6e22e">é€‰æ‹©</span> <span style="color:#a6e22e">buy</span>         )

<span style="color:#a6e22e">è§£é‡Š</span><span style="color:#960050;background-color:#1e0010">ï¼š</span><span style="color:#a6e22e">ä»Šå¤©æˆ‘æŒæœ‰ç€è‚¡ç¥¨</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">æœ‰ä¸¤ç§å¯èƒ½</span><span style="color:#960050;background-color:#1e0010">ï¼š</span>
<span style="color:#a6e22e">è¦ä¹ˆæˆ‘æ˜¨å¤©å°±æŒæœ‰ç€è‚¡ç¥¨</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">ç„¶åä»Šå¤©é€‰æ‹©</span> <span style="color:#a6e22e">rest</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">æ‰€ä»¥æˆ‘ä»Šå¤©è¿˜æŒæœ‰ç€è‚¡ç¥¨</span><span style="color:#960050;background-color:#1e0010">ï¼›</span>
<span style="color:#a6e22e">è¦ä¹ˆæˆ‘æ˜¨å¤©æœ¬æ²¡æœ‰æŒæœ‰</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">ä½†ä»Šå¤©æˆ‘é€‰æ‹©</span> <span style="color:#a6e22e">buy</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">æ‰€ä»¥ä»Šå¤©æˆ‘å°±æŒæœ‰è‚¡ç¥¨äº†</span><span style="color:#960050;background-color:#1e0010">ã€‚</span>
</code></pre></div><p>è¿™ä¸ªè§£é‡Šåº”è¯¥å¾ˆæ¸…æ¥šäº†ï¼Œå¦‚æœ buyï¼Œå°±è¦ä»åˆ©æ¶¦ä¸­å‡å» prices[i]ï¼Œå¦‚æœ sellï¼Œå°±è¦ç»™åˆ©æ¶¦å¢åŠ  prices[i]ã€‚ä»Šå¤©çš„æœ€å¤§åˆ©æ¶¦å°±æ˜¯è¿™ä¸¤ç§å¯èƒ½é€‰æ‹©ä¸­è¾ƒå¤§çš„é‚£ä¸ªã€‚è€Œä¸”æ³¨æ„ k çš„é™åˆ¶ï¼Œæˆ‘ä»¬åœ¨é€‰æ‹© buy çš„æ—¶å€™ï¼ŒæŠŠ k å‡å°äº† 1ï¼Œå¾ˆå¥½ç†è§£å§ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥åœ¨ sell çš„æ—¶å€™å‡ 1ï¼Œä¸€æ ·çš„ã€‚</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†åŠ¨æ€è§„åˆ’ä¸­æœ€å›°éš¾çš„ä¸€æ­¥ï¼šçŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€‚å¦‚æœä¹‹å‰çš„å†…å®¹ä½ éƒ½å¯ä»¥ç†è§£ï¼Œé‚£ä¹ˆä½ å·²ç»å¯ä»¥ç§’æ€æ‰€æœ‰é—®é¢˜äº†ï¼Œåªè¦å¥—è¿™ä¸ªæ¡†æ¶å°±è¡Œäº†ã€‚ä¸è¿‡è¿˜å·®æœ€åä¸€ç‚¹ç‚¹ï¼Œå°±æ˜¯å®šä¹‰ base caseï¼Œå³æœ€ç®€å•çš„æƒ…å†µã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">dp</span>[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][<span style="color:#a6e22e">k</span>][<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
<span style="color:#a6e22e">è§£é‡Š</span><span style="color:#960050;background-color:#1e0010">ï¼š</span><span style="color:#a6e22e">å› ä¸º</span> <span style="color:#a6e22e">i</span> <span style="color:#a6e22e">æ˜¯ä»</span> <span style="color:#ae81ff">0</span> <span style="color:#a6e22e">å¼€å§‹çš„</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">æ‰€ä»¥</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> <span style="color:#a6e22e">æ„å‘³ç€è¿˜æ²¡æœ‰å¼€å§‹</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">è¿™æ—¶å€™çš„åˆ©æ¶¦å½“ç„¶æ˜¯</span> <span style="color:#ae81ff">0</span> <span style="color:#960050;background-color:#1e0010">ã€‚</span>
<span style="color:#a6e22e">dp</span>[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][<span style="color:#a6e22e">k</span>][<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">infinity</span>
<span style="color:#a6e22e">è§£é‡Š</span><span style="color:#960050;background-color:#1e0010">ï¼š</span><span style="color:#a6e22e">è¿˜æ²¡å¼€å§‹çš„æ—¶å€™</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">æ˜¯ä¸å¯èƒ½æŒæœ‰è‚¡ç¥¨çš„</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">ç”¨è´Ÿæ— ç©·è¡¨ç¤ºè¿™ç§ä¸å¯èƒ½</span><span style="color:#960050;background-color:#1e0010">ã€‚</span>
<span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span>][<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
<span style="color:#a6e22e">è§£é‡Š</span><span style="color:#960050;background-color:#1e0010">ï¼š</span><span style="color:#a6e22e">å› ä¸º</span> <span style="color:#a6e22e">k</span> <span style="color:#a6e22e">æ˜¯ä»</span> <span style="color:#ae81ff">1</span> <span style="color:#a6e22e">å¼€å§‹çš„</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">æ‰€ä»¥</span> <span style="color:#a6e22e">k</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> <span style="color:#a6e22e">æ„å‘³ç€æ ¹æœ¬ä¸å…è®¸äº¤æ˜“</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">è¿™æ—¶å€™åˆ©æ¶¦å½“ç„¶æ˜¯</span> <span style="color:#ae81ff">0</span> <span style="color:#960050;background-color:#1e0010">ã€‚</span>
<span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span>][<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">infinity</span>
<span style="color:#a6e22e">è§£é‡Š</span><span style="color:#960050;background-color:#1e0010">ï¼š</span><span style="color:#a6e22e">ä¸å…è®¸äº¤æ˜“çš„æƒ…å†µä¸‹</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">æ˜¯ä¸å¯èƒ½æŒæœ‰è‚¡ç¥¨çš„</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">ç”¨è´Ÿæ— ç©·è¡¨ç¤ºè¿™ç§ä¸å¯èƒ½</span><span style="color:#960050;background-color:#1e0010">ã€‚</span>
</code></pre></div><p>æŠŠä¸Šé¢çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹æ€»ç»“ä¸€ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">base</span> <span style="color:#66d9ef">case</span><span style="color:#960050;background-color:#1e0010">ï¼š</span>
<span style="color:#a6e22e">dp</span>[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][<span style="color:#a6e22e">k</span>][<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span>][<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
<span style="color:#a6e22e">dp</span>[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][<span style="color:#a6e22e">k</span>][<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span>][<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">infinity</span>

<span style="color:#a6e22e">çŠ¶æ€è½¬ç§»æ–¹ç¨‹</span><span style="color:#960050;background-color:#1e0010">ï¼š</span>
<span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span>][<span style="color:#a6e22e">k</span>][<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">max</span>(<span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][<span style="color:#a6e22e">k</span>][<span style="color:#ae81ff">0</span>], <span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][<span style="color:#a6e22e">k</span>][<span style="color:#ae81ff">1</span>] <span style="color:#f92672">+</span> <span style="color:#a6e22e">prices</span>[<span style="color:#a6e22e">i</span>])
<span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span>][<span style="color:#a6e22e">k</span>][<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">max</span>(<span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][<span style="color:#a6e22e">k</span>][<span style="color:#ae81ff">1</span>], <span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][<span style="color:#a6e22e">k</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][<span style="color:#ae81ff">0</span>] <span style="color:#f92672">-</span> <span style="color:#a6e22e">prices</span>[<span style="color:#a6e22e">i</span>])
</code></pre></div><p>è¯»è€…å¯èƒ½ä¼šé—®ï¼Œè¿™ä¸ªæ•°ç»„ç´¢å¼•æ˜¯ -1 æ€ä¹ˆç¼–ç¨‹è¡¨ç¤ºå‡ºæ¥å‘¢ï¼Œè´Ÿæ— ç©·æ€ä¹ˆè¡¨ç¤ºå‘¢ï¼Ÿè¿™éƒ½æ˜¯ç»†èŠ‚é—®é¢˜ï¼Œæœ‰å¾ˆå¤šæ–¹æ³•å®ç°ã€‚ç°åœ¨å®Œæ•´çš„æ¡†æ¶å·²ç»å®Œæˆï¼Œä¸‹é¢å¼€å§‹å…·ä½“åŒ–ã€‚</p>
<h3 id="3-é¢˜è§£">3. é¢˜è§£</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">maxProfit</span>(<span style="color:#a6e22e">prices</span> []<span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
	<span style="color:#a6e22e">n</span> <span style="color:#f92672">:=</span> len(<span style="color:#a6e22e">prices</span>)
    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">n</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> {
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
    }
	<span style="color:#a6e22e">max_k</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">2</span>
	<span style="color:#a6e22e">dp</span> <span style="color:#f92672">:=</span> make([][][]<span style="color:#66d9ef">int</span>, <span style="color:#a6e22e">n</span>)
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">idx</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">dp</span> {
		<span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">idx</span>] = make([][]<span style="color:#66d9ef">int</span>, <span style="color:#a6e22e">max_k</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)
		<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">iidx</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">idx</span>] {
			<span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">idx</span>][<span style="color:#a6e22e">iidx</span>] = make([]<span style="color:#66d9ef">int</span>, <span style="color:#ae81ff">2</span>)
		}
	}
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> &lt; <span style="color:#a6e22e">n</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> {
		<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">k</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">max_k</span>; <span style="color:#a6e22e">k</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">1</span>; <span style="color:#a6e22e">k</span><span style="color:#f92672">--</span> {		<span style="color:#75715e">// è¿™é‡Œ k ä» 0 å¼€å§‹ è¡¨ç¤º 0 äº¤æ˜“åˆ©æ¶¦ä¸º 0ã€‚
</span><span style="color:#75715e"></span>			<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">i</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">==</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> {
        <span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span>][<span style="color:#a6e22e">k</span>][<span style="color:#ae81ff">0</span>] = <span style="color:#ae81ff">0</span>							<span style="color:#75715e">// basecase	max(0, -âˆ)
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span>][<span style="color:#a6e22e">k</span>][<span style="color:#ae81ff">1</span>] = <span style="color:#f92672">-</span><span style="color:#a6e22e">prices</span>[<span style="color:#a6e22e">i</span>]		<span style="color:#75715e">// basecase	max(-price[i], -âˆ)
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">continue</span>;
			}
			<span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span>][<span style="color:#a6e22e">k</span>][<span style="color:#ae81ff">0</span>] = <span style="color:#a6e22e">max</span>(<span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][<span style="color:#a6e22e">k</span>][<span style="color:#ae81ff">0</span>], <span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][<span style="color:#a6e22e">k</span>][<span style="color:#ae81ff">1</span>]<span style="color:#f92672">+</span><span style="color:#a6e22e">prices</span>[<span style="color:#a6e22e">i</span>])
			<span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span>][<span style="color:#a6e22e">k</span>][<span style="color:#ae81ff">1</span>] = <span style="color:#a6e22e">max</span>(<span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][<span style="color:#a6e22e">k</span>][<span style="color:#ae81ff">1</span>], <span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">i</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][<span style="color:#a6e22e">k</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][<span style="color:#ae81ff">0</span>]<span style="color:#f92672">-</span><span style="color:#a6e22e">prices</span>[<span style="color:#a6e22e">i</span>])
		}
	}
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">dp</span>[<span style="color:#a6e22e">n</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][<span style="color:#a6e22e">max_k</span>][<span style="color:#ae81ff">0</span>]
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">max</span>(<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span> <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">a</span> &gt; <span style="color:#a6e22e">b</span> {
		<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">a</span>
	}
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">b</span>
}

</code></pre></div><h1 id="èƒŒåŒ…æ¨¡å‹">èƒŒåŒ…æ¨¡å‹ğŸ’</h1>
<hr>
<p>ä¸ºä»€ä¹ˆèƒŒåŒ…æ¨¡å‹ä¸å±äºçº¿æ€§æ¨¡å‹ï¼Ÿå› ä¸ºåœ¨01èƒŒåŒ…ä¸­ç‰©å“åªæœ‰ä¸€ä»¶ï¼Œæ‹¿å®Œä¹‹å ç‰©å“çš„ç§ç±»ä¼šéšä¹‹å˜åŒ–ï¼Œæ‰€ä»¥è¯´å¯ä»¥çœ‹ä½œæ˜¯æœ‰ä¸‰ä¸ªå˜é‡å­˜åœ¨æ‰€ä»¥ä¸èƒ½ä½¿ç”¨çº¿æ€§æ¨¡å‹ã€‚</p>

    </div>

    <div class="post-copyright">
             
            <p class="copyright-item">
                <span>Author:</span>
                <span>Inno </span>
                </p>
            
           
             
            <p class="copyright-item">
                    <span>Link:</span>
                    <a href=https://blog.innoweb.cn/2020/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E6%A8%A1%E5%9E%8B/>https://blog.innoweb.cn/2020/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E6%A8%A1%E5%9E%8B/</span>
            </p>
            
             
            <p class="copyright-item lincese">
                æœ¬æ–‡é‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯
            </p>
            
    </div>

  
    <div class="post-tags">
        
            <section>
            <i class="iconfont icon-tag"></i>Tag(s): 
            
            <span class="tag"><a href="https://blog.innoweb.cn/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E6%A8%A1%E5%9E%8B/">
                    #åŠ¨æ€è§„åˆ’æ¨¡å‹</a></span>
            
            <span class="tag"><a href="https://blog.innoweb.cn/tags/%E7%AE%97%E6%B3%95/">
                    #ç®—æ³•</a></span>
            
            </section>
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> Â· 
                <span><a href="https://blog.innoweb.cn/">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="https://blog.innoweb.cn/2020/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/" class="prev" rel="prev" title="è´ªå¿ƒç®—æ³•"><i class="iconfont icon-left"></i>&nbsp;è´ªå¿ƒç®—æ³•</a>
         
        
        <a href="https://blog.innoweb.cn/2020/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" class="next" rel="next" title="åŠ¨æ€è§„åˆ’">åŠ¨æ€è§„åˆ’&nbsp;<i class="iconfont icon-right"></i></a>
        
    </div>

    <div class="post-comment">
          
                 
          
          
<div id="gitalk-container/" style="border: 0;"></div>
<link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/gitalk/1.6.2/gitalk.css" style="border: 0;" />
<script src="https://cdn.bootcdn.net/ajax/libs/gitalk/1.6.2/gitalk.js" style="border: 0;"></script>
<script>
  const gitalk = new Gitalk({
    clientID: "11370a73f2287b478b63",
    clientSecret: "02280a77fa3c4b78089a907c1cff0cdf4cb5853f]",
    repo: "blog.innoweb.cn",
    owner: "patrick-prod",
    admin: ["patrick-prod"],
    id: location.pathname, 
    distractionFreeMode: false, 
  });
  (function () {
    if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
      document.getElementById("gitalk-container").innerHTML =
        "Gitalk comments not available by default when the website is previewed locally.";
      return;
    }
    gitalk.render("gitalk-container");
  })();
</script>

    </div>
</article>
          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2020 - 2020</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i> 
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://blog.innoweb.cn/">Inno</a> | </span> 
         

         
		  <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/liuzc/leaveit" target="_blank" rel="external nofollow">LeaveIt</a></span> 
    </div>
</footer>














    
     <link href="//lib.baomitu.com/lightgallery/1.6.11/css/lightgallery.min.css" rel="stylesheet">  
      
     <script src="/js/vendor_gallery.min.js" async="" ></script>
    
  





     </div>
  </body>
</html>
