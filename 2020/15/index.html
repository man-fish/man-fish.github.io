<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp" />
  
  <meta name="author" content="Inno">
  
  <meta name="description" content="innoçš„ä¸ªäººåšå®¢ç½‘ç«™ï¼Œå…³æ³¨Javascriptï¼ŒGolangï¼ŒNodejsï¼ŒDenoï¼Œå¾®ä¿¡å°ç¨‹åºç­‰webå¼€å‘å¸¸ç”¨æŠ€æœ¯ã€‚">
  
  <meta name="keywords" content="leetcode,golang,javascript,typescript,deno,nodejs,ç®—æ³•,å‰ç«¯,åç«¯">
  
  
  <link rel="prev" href="https://blog.innoweb.cn/2020/14/" />
  
  <link rel="next" href="https://blog.innoweb.cn/2020/16/" />
  <link rel="canonical" href="https://blog.innoweb.cn/2020/15/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link href="/favicon.ico" rel="icon" type="image/x-icon">
  <link href="https://blog.innoweb.cn/favicon.ico" rel="icon" type="image/x-icon">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
    
    
    è·³è¡¨çš„åŸç†ä¸å®ç° | Inno`s Blog
    
  </title>
  <meta name="title"
    content="è·³è¡¨çš„åŸç†ä¸å®ç° | Inno`s Blog">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https:\/\/blog.innoweb.cn\/"
    },
    "articleSection" : "posts",
    "name" : "è·³è¡¨çš„åŸç†ä¸å®ç°",
    "headline" : "è·³è¡¨çš„åŸç†ä¸å®ç°",
    "description" : "è·³è¡¨æ•°æ®ç»“æ„ä»¥åŠgolangå®ç°",
    "inLanguage" : "zh-CN",
    "author" : "Inno",
    "creator" : "Inno",
    "publisher": "Inno",
    "accountablePerson" : "Inno",
    "copyrightHolder" : "Inno",
    "copyrightYear" : "2020",
    "datePublished": "2020-04-15 20:14:51 \x2b0800 CST",
    "dateModified" : "2020-04-15 20:14:51 \x2b0800 CST",
    "url" : "https:\/\/blog.innoweb.cn\/2020\/15\/",
    "wordCount" : "2255",
    "keywords" : [ "è·³è¡¨","ç®—æ³•", "Inno`s Blog"]
}
</script>

</head>




<body class="">
  <div class="wrapper">
    <nav class="navbar">
    
        <div class="top-scroll-bar"></div>
    
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://blog.innoweb.cn/">Inno`s Blog</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
                <a class="menu-item" href="/github/" title="innoâ€ ">Inno ğŸ´</a>
                
        </div>
        
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
    
    <div class="top-scroll-bar"></div>
    
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://blog.innoweb.cn/">Inno`s Blog</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
                <a class="menu-item" href="/github/" title="innoâ€ ">Inno ğŸ´</a>
                
        </div>
    </div>
</nav>
    <main class="main">
      <div class="container">
        
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">è·³è¡¨çš„åŸç†ä¸å®ç°</h1>
        <div class="post-meta">
                Written by <a itemprop="name" href="https://blog.innoweb.cn/" rel="author">Inno</a> with â™¥ 
                <span class="post-time">
                on <time datetime=2020-04-15 itemprop="datePublished">April 15, 2020</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="https://blog.innoweb.cn/categories/Algorithm/"> Algorithm </a>
                        
                </span>
                <span class="post-word-count" style="float: right;">Total <code>2255</code> words</span>
        </div>
    </header>
    <div class="post-content">
        

        
            
        

        
        
     
          
          
          

          
          
          

          <h2 id="è·³è¡¨skip-list">è·³è¡¨ï¼ˆskip listï¼‰</h2>
<hr>
<p>Skip listæ˜¯ä¸€ä¸ªç”¨äºæœ‰åºå…ƒç´ åºåˆ—å¿«é€Ÿæœç´¢çš„æ•°æ®ç»“æ„ï¼Œç”±ç¾å›½è®¡ç®—æœºç§‘å­¦å®¶William Pughå‘æ˜äº1989å¹´ã€‚å®ƒçš„æ•ˆç‡å’Œçº¢é»‘æ ‘ä»¥åŠ AVL æ ‘ä¸ç›¸ä¸Šä¸‹ï¼Œä½†å®ç°èµ·æ¥æ¯”è¾ƒå®¹æ˜“ã€‚</p>
<p><img src="http://image.innoweb.cn/2020-06-25-132531.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<blockquote>
<p><strong>ä½œè€…William Pughæ˜¯è¿™æ ·ä»‹ç»Skip listçš„:</strong></p>
<p>Skip listæ˜¯ä¸€ä¸ªâ€œæ¦‚ç‡å‹â€çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥åœ¨å¾ˆå¤šåº”ç”¨åœºæ™¯ä¸­æ›¿ä»£å¹³è¡¡æ ‘ã€‚Skip listç®—æ³•ä¸å¹³è¡¡æ ‘ç›¸æ¯”ï¼Œæœ‰ç›¸ä¼¼çš„æ¸è¿›æœŸæœ›æ—¶é—´è¾¹ç•Œï¼Œä½†æ˜¯å®ƒæ›´ç®€å•ï¼Œæ›´å¿«ï¼Œä½¿ç”¨æ›´å°‘çš„ç©ºé—´ã€‚
Skip listæ˜¯ä¸€ä¸ªåˆ†å±‚ç»“æ„å¤šçº§é“¾è¡¨ï¼Œæœ€ä¸‹å±‚æ˜¯åŸå§‹çš„é“¾è¡¨ï¼Œæ¯ä¸ªå±‚çº§éƒ½æ˜¯ä¸‹ä¸€ä¸ªå±‚çº§çš„â€œé«˜é€Ÿè·‘é“â€ã€‚</p>
</blockquote>
<p><strong>è·³è¡¨çš„æ ¸å¿ƒæ€æƒ³ï¼š</strong></p>
<p>é¦–å…ˆï¼Œè·³è¡¨å¤„ç†çš„æ˜¯æœ‰åºçš„é“¾è¡¨ï¼ˆä¸€èˆ¬æ˜¯åŒå‘é“¾è¡¨ï¼Œä¸‹å›¾æœªè¡¨ç¤ºåŒå‘ï¼‰ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="http://image.innoweb.cn/2020-06-25-132536.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>è¿™ä¸ªé“¾è¡¨ä¸­ï¼Œå¦‚æœè¦æœç´¢ä¸€ä¸ªæ•°ï¼Œéœ€è¦ä»å¤´åˆ°å°¾æ¯”è¾ƒæ¯ä¸ªå…ƒç´ æ˜¯å¦åŒ¹é…ï¼Œç›´åˆ°æ‰¾åˆ°åŒ¹é…çš„æ•°ä¸ºæ­¢ï¼Œå³æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ã€‚åŒç†ï¼Œæ’å…¥ä¸€ä¸ªæ•°å¹¶ä¿æŒé“¾è¡¨æœ‰åºï¼Œéœ€è¦å…ˆæ‰¾åˆ°åˆé€‚çš„æ’å…¥ä½ç½®ï¼Œå†æ‰§è¡Œæ’å…¥ï¼Œæ€»è®¡ä¹Ÿæ˜¯ O(n) çš„æ—¶é—´ã€‚</p>
<p>é‚£ä¹ˆå¦‚ä½•æé«˜æœç´¢çš„é€Ÿåº¦å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œåšä¸ªç´¢å¼•ï¼š</p>
<p><img src="http://image.innoweb.cn/2020-06-25-132541.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>å¦‚ä¸Šå›¾ï¼Œæˆ‘ä»¬æ–°åˆ›å»ºä¸€ä¸ªé“¾è¡¨ï¼Œå®ƒåŒ…å«çš„å…ƒç´ ä¸ºå‰ä¸€ä¸ªé“¾è¡¨çš„å¶æ•°ä¸ªå…ƒç´ ã€‚è¿™æ ·åœ¨æœç´¢ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œæˆ‘ä»¬å…ˆåœ¨ä¸Šå±‚é“¾è¡¨è¿›è¡Œæœç´¢ï¼Œå½“å…ƒç´ æœªæ‰¾åˆ°æ—¶å†åˆ°ä¸‹å±‚é“¾è¡¨ä¸­æœç´¢ã€‚ä¾‹å¦‚æœç´¢æ•°å­— 19 æ—¶çš„è·¯å¾„å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="http://image.innoweb.cn/2020-06-25-132546.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>å…ˆåœ¨ä¸Šå±‚ä¸­æœç´¢ï¼Œåˆ°è¾¾èŠ‚ç‚¹ 17 æ—¶å‘ç°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸º 21ï¼Œå·²ç»å¤§äº 19ï¼Œäºæ˜¯è½¬åˆ°ä¸‹ä¸€å±‚æœç´¢ï¼Œæ‰¾åˆ°çš„ç›®æ ‡æ•°å­— 19ã€‚</p>
<p>æˆ‘ä»¬çŸ¥é“ä¸Šå±‚çš„èŠ‚ç‚¹æ•°ç›®ä¸º <code>n/2</code>ï¼Œå› æ­¤ï¼Œæœ‰äº†è¿™å±‚ç´¢å¼•ï¼Œæˆ‘ä»¬æœç´¢çš„æ—¶é—´å¤æ‚åº¦é™ä¸ºäº†ï¼š<code>O(n/2)</code>ã€‚åŒç†ï¼Œæˆ‘ä»¬å¯ä»¥ä¸æ–­åœ°å¢åŠ å±‚æ•°ï¼Œæ¥å‡å°‘æœç´¢çš„æ—¶é—´ï¼š
<img src="http://image.innoweb.cn/2020-06-25-132553.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>åœ¨ä¸Šé¢çš„ 4 å±‚é“¾è¡¨ä¸­æœç´¢ 25ï¼Œåœ¨æœ€ä¸Šå±‚æœç´¢æ—¶å°±å¯ä»¥ç›´æ¥è·³è¿‡ 21 ä¹‹å‰çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œå› æ­¤ååˆ†é«˜æ•ˆã€‚</p>
<p>æ›´ä¸€èˆ¬åœ°ï¼Œå¦‚æœæœ‰ k å±‚ï¼Œæˆ‘ä»¬éœ€è¦çš„æœç´¢æ¬¡æ•°ä¼šå°äº âŒˆn/2^kâŒ‰+k ï¼Œè¿™æ ·å½“å±‚æ•° k å¢åŠ åˆ° âŒˆlog2nâŒ‰ æ—¶ï¼Œæœç´¢çš„æ—¶é—´å¤æ‚åº¦å°±å˜æˆäº† lognã€‚å…¶å®è¿™èƒŒåçš„åŸç†å’ŒäºŒå‰æœç´¢æ ‘æˆ–äºŒåˆ†æŸ¥æ‰¾å¾ˆç±»ä¼¼ï¼Œé€šè¿‡ç´¢å¼•æ¥è·³è¿‡å¤§é‡çš„èŠ‚ç‚¹ï¼Œä»è€Œæé«˜æœç´¢æ•ˆç‡ã€‚</p>
<p><strong>è·³è¡¨çš„æ€§è´¨ï¼š</strong></p>
<p>ä¸ŠèŠ‚çš„ç»“æ„æ˜¯â€œé™æ€â€çš„ï¼Œå³æˆ‘ä»¬å…ˆæ‹¥æœ‰äº†ä¸€ä¸ªé“¾è¡¨ï¼Œå†åœ¨ä¹‹ä¸Šå»ºäº†å¤šå±‚çš„ç´¢å¼•ã€‚ä½†æ˜¯åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œæˆ‘ä»¬çš„é“¾è¡¨æ˜¯é€šè¿‡å¤šæ¬¡æ’å…¥/åˆ é™¤å½¢æˆçš„ï¼Œæ¢å¥è¯è¯´æ˜¯â€œåŠ¨æ€â€çš„ã€‚ä¸ŠèŠ‚çš„ç»“æ„è¦æ±‚ä¸Šå±‚ç›¸é‚»èŠ‚ç‚¹ä¸å¯¹åº”ä¸‹å±‚èŠ‚ç‚¹é—´çš„ä¸ªæ•°æ¯”æ˜¯ 1:2ï¼Œéšæ„æ’å…¥/åˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿™ä¸ªè¦æ±‚å°±è¢«è¢«ç ´åäº†ã€‚</p>
<p>å› æ­¤è·³è¡¨è¡¨ç¤ºï¼Œæˆ‘ä»¬å°±ä¸å¼ºåˆ¶è¦æ±‚<code> 1:2</code> äº†ï¼Œä¸€ä¸ªèŠ‚ç‚¹è¦ä¸è¦è¢«ç´¢å¼•ï¼Œå»ºå‡ å±‚çš„ç´¢å¼•ï¼Œéƒ½åœ¨èŠ‚ç‚¹æ’å…¥æ—¶ç”±æŠ›ç¡¬å¸å†³å®šã€‚æŸä¸ªiå±‚çš„å…ƒç´ ï¼Œå‡ºç°åœ¨<code>i+1</code>å±‚çš„æ¦‚ç‡<code>p</code>æ˜¯å›ºå®šçš„ï¼Œä¾‹å¦‚å¸¸å–<code>p=1/2</code>æˆ–<code>p=1/4</code>ï¼›åœ¨<code>redis</code>çš„<code>sorted set</code>ä¸­<code>p</code>å–<code>1/4</code>ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">p</span> = <span style="color:#ae81ff">0.25</span>;
<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">randomLevel</span>() <span style="color:#66d9ef">int</span> {
	<span style="color:#a6e22e">level</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">1</span>
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">rand</span>.<span style="color:#a6e22e">Float64</span>() &lt; <span style="color:#a6e22e">p</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">level</span> &lt; <span style="color:#a6e22e">maxLevel</span> {
		<span style="color:#a6e22e">level</span><span style="color:#f92672">++</span>
	}
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">level</span>
}
</code></pre></div><p>ä¸Šé¢çš„ä»£ç ç›¸å½“äºæŠ›ç¡¬å¸ï¼Œåªä¸è¿‡æˆ‘ä»¬è¿™é‡Œæ­£é¢çš„æ¦‚ç‡æ˜¯1/4ï¼Œå¦‚æœæ˜¯æ­£é¢(rand &lt; p)åˆ™å±‚æ•°åŠ ä¸€ï¼Œç›´åˆ°æŠ›å‡ºåé¢ä¸ºæ­¢ã€‚å…¶ä¸­çš„ MaxLevel æ˜¯é˜²æ­¢å±‚æ•°å°±ä¼šå¤ªé«˜ï¼Œè€Œå¤ªé«˜çš„å±‚æ•°å¾€å¾€å¹¶ä¸ä¼šæä¾›é¢å¤–çš„æ€§èƒ½ï¼Œä¸€èˆ¬ <code>MaxLevel=log1/p(n)</code>ã€‚</p>
<p><strong>æ€§èƒ½åˆ†æ</strong>ï¼š</p>
<p><a href="https://blog.csdn.net/jinjiniao1/article/details/97246033">https://blog.csdn.net/jinjiniao1/article/details/97246033</a></p>
<h2 id="è·³è·ƒè¡¨çš„å®ç°">è·³è·ƒè¡¨çš„å®ç°</h2>
<hr>
<h4 id="æ•°æ®ç»“æ„">æ•°æ®ç»“æ„</h4>
<p><strong>Node èŠ‚ç‚¹ï¼š</strong></p>
<p>é¦–å…ˆæ–¹ä¾¿æˆ‘ä»¬è¿›è¡Œæ’åºï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ¯ä¸€ä¸ªèŠ‚ç‚¹è®¾ç½®ä¸€ä¸ª Key ï¼Œè¿™ä¸ª Key å¿…é¡»æ˜¯å¯æ¯”è¾ƒçš„è®©æˆ‘ä»¬å¯ä»¥è¿›è¡Œæ’åºå’Œç´¢å€¼ã€‚å¹¶ä¸”ç”¨ä¸€ä¸ª Val æ¥å®é™…å‚¨å­˜å†…å®¹ï¼Œä¸€ä¸ª Node æ•°ç»„ ä½œä¸ºç´¢å¼•ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Node</span> <span style="color:#66d9ef">struct</span> {
		<span style="color:#a6e22e">Key</span>   <span style="color:#66d9ef">interface</span>{}
		<span style="color:#a6e22e">Value</span> <span style="color:#66d9ef">interface</span>{}
		<span style="color:#a6e22e">Nexts</span> []<span style="color:#f92672">*</span><span style="color:#a6e22e">Node</span>
	}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">NewNode</span>(<span style="color:#a6e22e">k</span> <span style="color:#66d9ef">interface</span>{}, <span style="color:#a6e22e">v</span> <span style="color:#66d9ef">interface</span>{}, <span style="color:#a6e22e">level</span> <span style="color:#66d9ef">int</span>) <span style="color:#f92672">*</span><span style="color:#a6e22e">Node</span> {
	<span style="color:#66d9ef">return</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">Node</span>{
		<span style="color:#a6e22e">Key</span>:   <span style="color:#a6e22e">k</span>,
		<span style="color:#a6e22e">Value</span>: <span style="color:#a6e22e">v</span>,
		<span style="color:#a6e22e">Nexts</span>: make([]<span style="color:#f92672">*</span><span style="color:#a6e22e">Node</span>, <span style="color:#a6e22e">level</span>),
	}
}
</code></pre></div><p><strong>Skip List è·³è·ƒè¡¨ï¼š</strong></p>
<p>è·³è·ƒè¡¨éœ€è¦ä¸€ä¸ªé¦–èŠ‚ç‚¹ï¼Œå…¶ç´¢å¼•é«˜åº¦å°±æ˜¯è·³è·ƒè¡¨çš„maxLevelï¼ŒåŒæ—¶è¿˜è¦å‚¨å­˜è·³è·ƒè¡¨å†…çš„å®é™…å…ƒç´ å’Œå®é™…å±‚é«˜ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">type</span>	<span style="color:#a6e22e">SkipList</span> <span style="color:#66d9ef">struct</span> {
		<span style="color:#a6e22e">size</span>  <span style="color:#66d9ef">int</span>   <span style="color:#75715e">// å®¹é‡
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">level</span> <span style="color:#66d9ef">int</span>   <span style="color:#75715e">// å®é™…å±‚æ•°
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">first</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Node</span> <span style="color:#75715e">// é¦–èŠ‚ç‚¹ï¼Œå±‚æ•°ç­‰äºæœ€é«˜å±‚æ•°
</span><span style="color:#75715e"></span>	}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">New</span>() <span style="color:#f92672">*</span><span style="color:#a6e22e">SkipList</span> {
	<span style="color:#66d9ef">return</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">SkipList</span>{
		<span style="color:#a6e22e">first</span>: <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">Node</span>{
			<span style="color:#a6e22e">Nexts</span>: make([]<span style="color:#f92672">*</span><span style="color:#a6e22e">Node</span>, <span style="color:#a6e22e">maxLevel</span>),
		},
	}
}
</code></pre></div><p><strong>è¾…åŠ©å˜é‡ï¼š</strong></p>
<p>å‚ç…§ redis æˆ‘ä»¬å°† maxLevel è®¾ç½®ä½ 32(ä¸€èˆ¬ä¸º16/32)ï¼Œå°† p è®¾ç½®ä¸º 0.25ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">const</span> (
	<span style="color:#a6e22e">maxLevel</span> = <span style="color:#ae81ff">32</span>
	<span style="color:#a6e22e">p</span>        = <span style="color:#ae81ff">0.25</span>
)
</code></pre></div><h4 id="æŸ¥æ‰¾-get">æŸ¥æ‰¾ Get</h4>
<p><img src="http://image.innoweb.cn/2020-06-25-132601.png" alt="image-20200401172655737"></p>
<p>å‡è®¾æˆ‘ä»¬è¦æœç´¢ key ä¸º17çš„å…ƒç´ ï¼Œæˆ‘ä»¬å…ˆä»å¤´ç»“ç‚¹çš„ level å±‚å‡ºå‘ï¼Œå¦‚æœè¯´å½“å‰å±‚ä¸‹ä¸€ä¸ªå…ƒç´ æ¯” key å°åˆ™æ›´æ–° nodeï¼Œå¦‚æœæ¯” key å¤§åˆ™å»ä¸‹ä¸€å±‚å¯»æ‰¾ï¼Œç›´åˆ°ä¸‹ä¸€ä¸ªç»“ç‚¹çš„Keyå€¼ç­‰äºæˆ‘ä»¬æœç´¢çš„keyï¼Œæˆ‘ä»¬å°±è¿”å›å¯¹åº”çš„Valueã€‚ä¸ç„¶å…ƒç´ ä¸å­˜åœ¨åˆ™è¿”å›ä¸€ä¸ª nil å€¼ã€‚</p>
<p><strong>codeï¼š</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">sl</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">SkipList</span>) <span style="color:#a6e22e">Get</span>(<span style="color:#a6e22e">key</span> <span style="color:#a6e22e">util</span>.<span style="color:#a6e22e">Comparable</span>) <span style="color:#66d9ef">interface</span>{} {
	<span style="color:#a6e22e">keyChecking</span>(<span style="color:#a6e22e">key</span>)	<span style="color:#75715e">// ç¡®ä¿ key ä¸ä¸º Nilã€‚
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">node</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">sl</span>.<span style="color:#a6e22e">first</span>
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">sl</span>.<span style="color:#a6e22e">level</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">--</span> {
		<span style="color:#a6e22e">cmp</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
		<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">node</span>.<span style="color:#a6e22e">Nexts</span>[<span style="color:#a6e22e">i</span>] <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">key</span>.<span style="color:#a6e22e">CompareTo</span>(<span style="color:#a6e22e">key</span>, <span style="color:#a6e22e">node</span>.<span style="color:#a6e22e">Nexts</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">Key</span>) &gt; <span style="color:#ae81ff">0</span> {
			<span style="color:#a6e22e">node</span> = <span style="color:#a6e22e">node</span>.<span style="color:#a6e22e">Nexts</span>[<span style="color:#a6e22e">i</span>]
		}
		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">key</span>.<span style="color:#a6e22e">CompareTo</span>(<span style="color:#a6e22e">key</span>, <span style="color:#a6e22e">node</span>.<span style="color:#a6e22e">Nexts</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">Key</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> {
			<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">node</span>.<span style="color:#a6e22e">Nexts</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">Value</span>
		}
	}
	<span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>
}
</code></pre></div><h4 id="æ·»åŠ -put">æ·»åŠ  Put</h4>
<p><img src="http://image.innoweb.cn/2020-06-25-132605.png" alt="image-20200401173359081"></p>
<p>æ·»åŠ ä¹‹å‰æˆ‘ä»¬è¦æ‰¾åˆ°æ·»åŠ çš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯æœ€é è¿‘å¾…æ·»åŠ å…ƒç´ çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿™å’Œæœç´¢çš„é€»è¾‘å…¶å®æ˜¯ä¸€æ ·çš„ï¼Œä¸è¿‡å¦‚æœæˆ‘ä»¬å‘ç°è¿™ä¸ª key å€¼å·²ç»å­˜åœ¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦æ›´æ”¹ä¸€ä¸‹å¯¹åº”èŠ‚ç‚¹çš„ Valueã€‚</p>
<p><img src="http://image.innoweb.cn/2020-06-25-132608.png" alt="image-20200401173911172"></p>
<p>æ‰¾åˆ°éœ€è¦æ·»åŠ çš„ä½ç½®ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œç­‰äºå½“å‰å±‚æ•°çš„æ‹¼æ¥ï¼Œå¦‚æœè¦è¿›è¡Œæ‹¼æ¥ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦è®°å½•æ·»åŠ å…ƒç´ æ¯å±‚çš„ç´¢å¼•ï¼Œè¿™ä¸ªå¾ˆç®€å•åªè¦åœ¨éå†æ—¶å­˜å‚¨æ¯å±‚æœ€åçš„ node å³å¯ã€‚ä½†æ˜¯æˆ‘ä»¬åœ¨æ‹¼æ¥çš„æ—¶å€™è¿˜éœ€è¦è€ƒè™‘ï¼Œå¦‚æœè¯´æ–°èŠ‚ç‚¹çš„å±‚æ•°æ˜¯æœ€é«˜çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦æŠŠå¤´ç»“ç‚¹çš„ç´¢å¼•æ›´æ–°ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">sl</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">SkipList</span>) <span style="color:#a6e22e">Put</span>(<span style="color:#a6e22e">key</span> <span style="color:#a6e22e">util</span>.<span style="color:#a6e22e">Comparable</span>, <span style="color:#a6e22e">val</span> <span style="color:#66d9ef">interface</span>{}) <span style="color:#66d9ef">interface</span>{} {
	<span style="color:#a6e22e">keyChecking</span>(<span style="color:#a6e22e">key</span>)
	<span style="color:#a6e22e">node</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">sl</span>.<span style="color:#a6e22e">first</span>
	<span style="color:#a6e22e">prevs</span> <span style="color:#f92672">:=</span> make([]<span style="color:#f92672">*</span><span style="color:#a6e22e">Node</span>, <span style="color:#a6e22e">sl</span>.<span style="color:#a6e22e">level</span>)	<span style="color:#75715e">// å­˜å‚¨æ¯å±‚çš„å‰é©±å…ƒç´ ç´¢å¼•ã€‚
</span><span style="color:#75715e"></span>
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">sl</span>.<span style="color:#a6e22e">level</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">--</span> {
		<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">node</span>.<span style="color:#a6e22e">Nexts</span>[<span style="color:#a6e22e">i</span>] <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">key</span>.<span style="color:#a6e22e">CompareTo</span>(<span style="color:#a6e22e">key</span>, <span style="color:#a6e22e">node</span>.<span style="color:#a6e22e">Nexts</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">Key</span>) &gt; <span style="color:#ae81ff">0</span> {
			<span style="color:#a6e22e">node</span> = <span style="color:#a6e22e">node</span>.<span style="color:#a6e22e">Nexts</span>[<span style="color:#a6e22e">i</span>]
		}
    
		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">key</span>.<span style="color:#a6e22e">CompareTo</span>(<span style="color:#a6e22e">key</span>, <span style="color:#a6e22e">node</span>.<span style="color:#a6e22e">Nexts</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">Key</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> {	<span style="color:#75715e">// å¦‚æœæ’å…¥é”®å·²å­˜åœ¨åˆ™æ›´æ”¹å…¶Valueã€‚
</span><span style="color:#75715e"></span>			<span style="color:#a6e22e">oldV</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">node</span>.<span style="color:#a6e22e">Nexts</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">Value</span>
			<span style="color:#a6e22e">node</span>.<span style="color:#a6e22e">Nexts</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">Value</span> = <span style="color:#a6e22e">val</span>
			<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">oldV</span>
		}
		<span style="color:#a6e22e">prevs</span>[<span style="color:#a6e22e">i</span>] = <span style="color:#a6e22e">node</span>	<span style="color:#75715e">//æŒ‰å±‚å­˜å‚¨å‰é©±ç´¢å¼•ã€‚
</span><span style="color:#75715e"></span>	}

	<span style="color:#a6e22e">newLevel</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">randomLevel</span>()	<span style="color:#75715e">// éšæœºå±‚æ•°ä»£ç åœ¨ä¸Šé¢ã€‚
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">newNode</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">NewNode</span>(<span style="color:#a6e22e">key</span>, <span style="color:#a6e22e">val</span>, <span style="color:#a6e22e">newLevel</span>)

	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> &lt; <span style="color:#a6e22e">newLevel</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> {
		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">&gt;=</span> <span style="color:#a6e22e">sl</span>.<span style="color:#a6e22e">level</span> {
			<span style="color:#a6e22e">sl</span>.<span style="color:#a6e22e">first</span>.<span style="color:#a6e22e">Nexts</span>[<span style="color:#a6e22e">i</span>] = <span style="color:#a6e22e">newNode</span>	<span style="color:#75715e">// é«˜å‡ºleveléƒ¨åˆ†æ›´æ–°å¤´ç»“ç‚¹ç´¢å¼•ã€‚
</span><span style="color:#75715e"></span>		}
		<span style="color:#a6e22e">newNode</span>.<span style="color:#a6e22e">Nexts</span>[<span style="color:#a6e22e">i</span>] = <span style="color:#a6e22e">prevs</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">Nexts</span>[<span style="color:#a6e22e">i</span>]	<span style="color:#75715e">// æ‹¼æ¥ã€‚
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">prevs</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">Nexts</span>[<span style="color:#a6e22e">i</span>] = <span style="color:#a6e22e">newNode</span>
	}
	<span style="color:#a6e22e">sl</span>.<span style="color:#a6e22e">size</span><span style="color:#f92672">++</span>
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">sl</span>.<span style="color:#a6e22e">level</span> &lt; <span style="color:#a6e22e">newLevel</span> {
		<span style="color:#a6e22e">sl</span>.<span style="color:#a6e22e">level</span> = <span style="color:#a6e22e">newLevel</span>
	}
	<span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>
}
</code></pre></div><h4 id="åˆ é™¤-remove">åˆ é™¤ Remove</h4>
<p><img src="http://image.innoweb.cn/2020-06-25-132614.png" alt="image-20200401174900670"></p>
<p>åˆ é™¤æ“ä½œä¸­æ‰¾åˆ°å¾…åˆ é™¤å…ƒç´ å’Œæ‹¼æ¥çš„é€»è¾‘å®Œå…¨ä¸€è‡´ï¼Œåªä¸è¿‡è¦è€ƒè™‘å¦ä¸€ä¸ªç‰¹æ®Šæƒ…å†µå°±æ˜¯æˆ‘ä»¬è¦åˆ é™¤çš„å…ƒç´ æœ‰æœ€é«˜çš„ç´¢å¼•çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å¯¹è·³è¡¨çš„é«˜åº¦è¿›è¡Œä¿®æ”¹ã€‚ä¸è¿‡åˆ¤æ–­èµ·æ¥å¾ˆç®€å•ï¼Œåªè¦0åˆ°levelèŒƒå›´å†…å¤´ç»“ç‚¹çš„ç´¢å¼•æœ‰Nilå€¼ï¼Œå±‚çº§å°±å‡1ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">sl</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">SkipList</span>) <span style="color:#a6e22e">Remove</span>(<span style="color:#a6e22e">key</span> <span style="color:#a6e22e">util</span>.<span style="color:#a6e22e">Comparable</span>) <span style="color:#66d9ef">interface</span>{} {
	<span style="color:#a6e22e">keyChecking</span>(<span style="color:#a6e22e">key</span>)
	<span style="color:#a6e22e">node</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">sl</span>.<span style="color:#a6e22e">first</span>
	<span style="color:#a6e22e">prevs</span> <span style="color:#f92672">:=</span> make([]<span style="color:#f92672">*</span><span style="color:#a6e22e">Node</span>, <span style="color:#a6e22e">sl</span>.<span style="color:#a6e22e">level</span>)
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">mth</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Node</span>
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">sl</span>.<span style="color:#a6e22e">level</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">--</span> {
		<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">node</span>.<span style="color:#a6e22e">Nexts</span>[<span style="color:#a6e22e">i</span>] <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">key</span>.<span style="color:#a6e22e">CompareTo</span>(<span style="color:#a6e22e">key</span>, <span style="color:#a6e22e">node</span>.<span style="color:#a6e22e">Nexts</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">Key</span>) &gt; <span style="color:#ae81ff">0</span> {
			<span style="color:#a6e22e">node</span> = <span style="color:#a6e22e">node</span>.<span style="color:#a6e22e">Nexts</span>[<span style="color:#a6e22e">i</span>]
		}
		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">key</span>.<span style="color:#a6e22e">CompareTo</span>(<span style="color:#a6e22e">key</span>, <span style="color:#a6e22e">node</span>.<span style="color:#a6e22e">Nexts</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">Key</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> {
			<span style="color:#a6e22e">mth</span> = <span style="color:#a6e22e">node</span>.<span style="color:#a6e22e">Nexts</span>[<span style="color:#a6e22e">i</span>]
		}

		<span style="color:#a6e22e">prevs</span>[<span style="color:#a6e22e">i</span>] = <span style="color:#a6e22e">node</span>
	}

	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">mth</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> {
		<span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>
	}
	<span style="color:#a6e22e">sl</span>.<span style="color:#a6e22e">size</span><span style="color:#f92672">--</span>
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> &lt; len(<span style="color:#a6e22e">mth</span>.<span style="color:#a6e22e">Nexts</span>); <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> {	<span style="color:#75715e">// æ‹¼æ¥èŒƒå›´ä¸ºèŠ‚ç‚¹é«˜åº¦ã€‚
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">prevs</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">Nexts</span>[<span style="color:#a6e22e">i</span>] = <span style="color:#a6e22e">prevs</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">Nexts</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">Nexts</span>[<span style="color:#a6e22e">i</span>]
	}

	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">sl</span>.<span style="color:#a6e22e">level</span> &gt; <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">sl</span>.<span style="color:#a6e22e">first</span>.<span style="color:#a6e22e">Nexts</span>[<span style="color:#a6e22e">sl</span>.<span style="color:#a6e22e">level</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> {	<span style="color:#75715e">// è°ƒæ•´å±‚é«˜ã€‚
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">sl</span>.<span style="color:#a6e22e">level</span> = <span style="color:#a6e22e">sl</span>.<span style="color:#a6e22e">level</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>
	}

	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">mth</span>.<span style="color:#a6e22e">Value</span>
}
</code></pre></div><blockquote>
<p><strong>å®Œæ•´ä»£ç ï¼š</strong></p>
<p><a href="https://github.com/patrick-prod/DSofGO/blob/master/skiplist/skiplist.go">https://github.com/patrick-prod/DSofGO/blob/master/skiplist/skiplist.go</a></p>
</blockquote>

    </div>

    <div class="post-copyright">
             
            <p class="copyright-item">
                <span>Author:</span>
                <span>Inno </span>
                </p>
            
           
             
            <p class="copyright-item">
                    <span>Link:</span>
                    <a href=https://blog.innoweb.cn/2020/15/>https://blog.innoweb.cn/2020/15/</span>
            </p>
            
             
            <p class="copyright-item lincese">
                æœ¬æ–‡é‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯
            </p>
            
    </div>

  
    <div class="post-tags">
        
            <section>
            <i class="iconfont icon-tag"></i>Tag(s): 
            
            <span class="tag"><a href="https://blog.innoweb.cn/tags/%E8%B7%B3%E8%A1%A8/">
                    #è·³è¡¨</a></span>
            
            <span class="tag"><a href="https://blog.innoweb.cn/tags/%E7%AE%97%E6%B3%95/">
                    #ç®—æ³•</a></span>
            
            </section>
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> Â· 
                <span><a href="https://blog.innoweb.cn/">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="https://blog.innoweb.cn/2020/14/" class="prev" rel="prev" title="Leetcodeåˆ·é¢˜è®°å½•150-200"><i class="iconfont icon-left"></i>&nbsp;Leetcodeåˆ·é¢˜è®°å½•150-200</a>
         
        
        <a href="https://blog.innoweb.cn/2020/16/" class="next" rel="next" title="ä¿„ç½—æ–¯å†œæ°‘ä¹˜æ³•">ä¿„ç½—æ–¯å†œæ°‘ä¹˜æ³•&nbsp;<i class="iconfont icon-right"></i></a>
        
    </div>

    <div class="post-comment">
          
                 
          
          
<div id="gitalk-container" style="border: 0;"></div>
<link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/gitalk/1.6.2/gitalk.css" style="border: 0;" />
<script src="https://cdn.bootcdn.net/ajax/libs/gitalk/1.6.2/gitalk.js" style="border: 0;"></script>
<script>
  const gitalk = new Gitalk({
    clientID: "29ea93a56bc68af65ba8",
    clientSecret: "0af554128f5f5ec8a81b515d4df19b6238170fd4",
    repo: "patrick-prod.github.io",
    owner: "patrick-prod",
    admin: ["patrick-prod"],
    id: location.pathname, 
    distractionFreeMode: false, 
  });
  (function () {
    if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
      document.getElementById("gitalk-container").innerHTML =
        "Gitalk comments not available by default when the website is previewed locally.";
      return;
    }
    gitalk.render("gitalk-container");
  })();
</script>

    </div>
</article>
      </div>
    </main>
    <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2020 - 2020</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i> 
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://blog.innoweb.cn/">Inno</a> | </span> 
         

         
		  <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/liuzc/leaveit" target="_blank" rel="external nofollow">LeaveIt</a></span> 
    </div>
</footer>














    
     <link href="//lib.baomitu.com/lightgallery/1.6.11/css/lightgallery.min.css" rel="stylesheet">  
      
     <script src="/js/vendor_gallery.min.js" async="" ></script>
    
  





  </div>
</body>

</html>